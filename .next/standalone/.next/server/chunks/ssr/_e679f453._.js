module.exports=[87532,50537,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["default",()=>b],50537),a.s(["Search",()=>b],87532)},33022,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);function e({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})})}function f({className:a,...c}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,d.cn)("[&_tr]:border-b",a),...c})}function g({className:a,...c}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c})}function h({className:a,...c}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,d.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...c})}function i({className:a,...c}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,d.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}function j({className:a,...c}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,d.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}var k=a.i(54161),l=a.i(87532);function m({columns:a,data:k,className:m,currentPage:n=1,totalPages:o=1,onPageChange:p,onRowClick:q}){let r=o>1&&p,[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(""),w=a=>{a.preventDefault();let b=parseInt(u,10);b>=1&&b<=o&&p&&p(b),t(null),v("")};return(0,b.jsxs)("div",{className:(0,d.cn)("rounded-xl border border-border bg-card overflow-hidden",m),children:[(0,b.jsxs)(e,{children:[(0,b.jsx)(f,{children:(0,b.jsx)(h,{className:"border-border bg-secondary/50 hover:bg-secondary/50",children:a.map(a=>(0,b.jsx)(i,{className:"text-muted-foreground font-medium",children:a.label},a.key))})}),(0,b.jsx)(g,{children:0===k.length?(0,b.jsx)(h,{children:(0,b.jsx)(j,{colSpan:a.length,className:"text-center py-8 text-muted-foreground",children:"No data available"})}):k.map((c,e)=>(0,b.jsx)(h,{className:(0,d.cn)("border-border transition-colors hover:bg-secondary/60",q&&"cursor-pointer"),onClick:()=>q?.(c),children:a.map(a=>(0,b.jsx)(j,{className:"text-foreground",children:a.render?a.render(c[a.key],c):c[a.key]},a.key))},e))})]}),r&&(0,b.jsxs)("div",{className:"flex items-center justify-between border-t border-border bg-secondary/30 px-6 py-4",children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page"," ",(0,b.jsx)("span",{className:"font-medium text-foreground",children:n})," ","of ",(0,b.jsx)("span",{className:"font-medium text-foreground",children:o})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>p(n-1),disabled:1===n,className:(0,d.cn)("px-3 py-1.5 text-sm font-medium rounded-lg border transition-colors",1===n?"border-border bg-secondary/50 text-muted-foreground cursor-not-allowed":"border-border bg-card text-foreground hover:bg-secondary/80 cursor-pointer"),children:"Previous"}),(0,b.jsx)("div",{className:"flex items-center gap-1",children:(()=>{let a=[];if(o<=7)for(let b=1;b<=o;b++)a.push(b);else a.push(1),n<=3?a.push(2,3,4,"...",o):n>=o-2?a.push("...",o-3,o-2,o-1,o):a.push("...",n-1,n,n+1,"...",o);return a.map((a,c)=>{if("..."===a){let a=`ellipsis-${c}`;return s===a?(0,b.jsxs)("form",{onSubmit:w,className:"relative",children:[(0,b.jsx)(l.Search,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground pointer-events-none"}),(0,b.jsx)("input",{type:"number",min:1,max:o,value:u,onChange:a=>v(a.target.value),onBlur:()=>{t(null),v("")},autoFocus:!0,className:"w-14 h-9 pl-6 pr-1 text-sm text-center font-medium rounded-lg border border-primary bg-card text-foreground focus:outline-none focus:ring-1 focus:ring-primary [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]},a):(0,b.jsx)("button",{onClick:()=>t(a),className:"w-9 h-9 flex items-center justify-center text-sm text-muted-foreground hover:text-foreground hover:bg-secondary/80 rounded-lg border border-transparent hover:border-border transition-colors cursor-pointer",title:"Click to jump to page",children:"..."},a)}return(0,b.jsx)("button",{onClick:()=>p(a),className:(0,d.cn)("w-9 h-9 text-sm font-medium rounded-lg border transition-colors cursor-pointer",n===a?"border-primary bg-primary text-primary-foreground":"border-border bg-card text-foreground hover:bg-secondary/80"),children:a},a)})})()}),(0,b.jsx)("button",{onClick:()=>p(n+1),disabled:n===o,className:(0,d.cn)("px-3 py-1.5 text-sm font-medium rounded-lg border transition-colors",n===o?"border-border bg-secondary/50 text-muted-foreground cursor-not-allowed":"border-border bg-card text-foreground hover:bg-secondary/80 cursor-pointer"),children:"Next"})]})]})]})}function n({status:a}){let c={Active:"bg-[var(--success)]/20 text-[var(--success)] border-[var(--success)]/30",Pending:"bg-[var(--warning)]/20 text-[var(--warning)] border-[var(--warning)]/30","In Progress":"bg-primary/20 text-primary border-primary/30",Resolved:"bg-[var(--success)]/20 text-[var(--success)] border-[var(--success)]/30","Under Review":"bg-[var(--warning)]/20 text-[var(--warning)] border-[var(--warning)]/30",Hidden:"bg-muted text-muted-foreground border-border",Inactive:"bg-muted text-muted-foreground border-border",Blocked:"bg-destructive/20 text-destructive border-destructive/30",Draft:"bg-secondary text-secondary-foreground border-border"};return(0,b.jsx)(k.Badge,{variant:"outline",className:(0,d.cn)("font-medium",c[a]||c.Inactive),children:a})}function o({priority:a}){return(0,b.jsx)(k.Badge,{variant:"outline",className:(0,d.cn)("font-medium",{High:"bg-destructive/20 text-destructive border-destructive/30",Medium:"bg-[var(--warning)]/20 text-[var(--warning)] border-[var(--warning)]/30",Low:"bg-[var(--success)]/20 text-[var(--success)] border-[var(--success)]/30"}[a]||""),children:a})}a.s(["DataTable",()=>m,"PriorityBadge",()=>o,"StatusBadge",()=>n],33022)},72162,a=>{"use strict";let b=(0,a.i(70106).default)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);a.s(["SlidersHorizontal",()=>b],72162)},50338,a=>{"use strict";var b=a.i(87924),c=a.i(87532),d=a.i(72162),e=a.i(5784),f=a.i(56711),g=a.i(72131),h=a.i(50944),i=a.i(38246),j=a.i(33022),k=a.i(40695),l=a.i(54161),m=a.i(5522),n=a.i(87682),o=a.i(76504),p=a.i(65733),q=a.i(70246),r=a.i(17171),s=a.i(73993),t=(0,s.createServerReference)("605473f1748b9fc6e92c764a8613a2c822875d4393",s.callServer,void 0,s.findSourceMapURL,"updateQuizVisibility"),u=(0,s.createServerReference)("408b0259b9349dd9410e93765a8acb1e4ced2170d5",s.callServer,void 0,s.findSourceMapURL,"blockQuizAction");let v={Publik:"bg-[var(--success)]/20 text-[var(--success)] border-[var(--success)]/30",Private:"bg-[var(--warning)]/20 text-[var(--warning)] border-[var(--warning)]/30"},w={Active:"bg-blue-500/20 text-blue-500 border-blue-500/30",Block:"bg-red-500/20 text-red-500 border-red-500/30"};function x({initialData:a,totalPages:s,currentPage:x,categories:z,searchQuery:A,categoryFilter:B,visibilityFilter:C}){let D=(0,h.useRouter)(),E=(0,h.useSearchParams)(),[F,G]=(0,g.useTransition)(),{toast:H}=(0,q.useToast)(),[I,J]=(0,g.useState)(A),[K,L]=(0,g.useState)({open:!1,id:"",currentValue:"",newValue:"",quizTitle:""}),[M,N]=(0,g.useState)({open:!1,id:"",quizTitle:"",confirmText:""}),O=a=>{let b=new URLSearchParams(E.toString());Object.entries(a).forEach(([a,c])=>{c&&"all"!==c&&""!==c?b.set(a,String(c)):b.delete(a)}),G(()=>{D.push(`?${b.toString()}`)})},P=()=>{O({search:I,page:1})},Q=(a,b,c,d)=>{L({open:!0,id:a,currentValue:b,newValue:c,quizTitle:d})},R=async()=>{let{error:a}=await t(K.id,"Publik"===K.newValue);a?H({title:"Error",description:"Gagal mengubah visibility",variant:"destructive"}):(H({title:"Berhasil",description:"Visibility berhasil diubah"}),D.refresh()),L(a=>({...a,open:!1}))},S=async()=>{if("Block"!==M.confirmText)return;let{error:a}=await u(M.id);a?H({title:"Error",description:"Gagal memblokir quiz",variant:"destructive"}):(H({title:"Berhasil",description:"Quiz berhasil diblokir"}),D.refresh()),N(a=>({...a,open:!1,confirmText:""}))},T=[{key:"title",label:"Title",render:a=>(0,b.jsx)("span",{className:"block max-w-[200px] truncate",title:a,children:a})},{key:"creator",label:"Creator",render:(a,c)=>a?(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)(i.default,{href:`/users/${a.id}`,className:"flex flex-col min-w-0 hover:underline",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("span",{className:"text-sm font-medium truncate max-w-[120px]",title:a.fullname,children:a.fullname}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground truncate max-w-[120px]",title:a.username,children:["@",a.username]})]})}):(0,b.jsx)("span",{className:"text-muted-foreground",children:"-"})},{key:"category",label:"Category",render:a=>{let c=y(a);return(0,b.jsx)("span",{className:"block max-w-[120px] truncate",title:c,children:c})}},{key:"questions",label:"Questions"},{key:"language",label:"Language",render:a=>y(a)},{key:"difficulty",label:"Visibility",render:(a,c)=>{let d=c.id,f=c.title;return(0,b.jsxs)(o.DropdownMenu,{children:[(0,b.jsx)(o.DropdownMenuTrigger,{className:"focus:outline-none",children:(0,b.jsxs)("div",{className:"cursor-pointer hover:opacity-80 flex items-center",children:[(0,b.jsx)(l.Badge,{variant:"outline",className:v[a]??"bg-secondary text-secondary-foreground",children:a}),(0,b.jsx)(e.ChevronDown,{className:"ml-1.5 h-3 w-3 text-muted-foreground/50"})]})}),(0,b.jsx)(o.DropdownMenuContent,{align:"start",children:"Publik"===a?(0,b.jsx)(o.DropdownMenuItem,{onClick:()=>Q(d,a,"Private",f),className:"cursor-pointer",children:"Private"}):(0,b.jsx)(o.DropdownMenuItem,{onClick:()=>Q(d,a,"Publik",f),className:"cursor-pointer",children:"Publik"})})]})}},{key:"createdAt",label:"Created"},{key:"status",label:"Status",render:(a,c)=>{let d=c.id,f=c.title;return(0,b.jsxs)(o.DropdownMenu,{children:[(0,b.jsx)(o.DropdownMenuTrigger,{className:"focus:outline-none",children:(0,b.jsxs)("div",{className:"cursor-pointer hover:opacity-80 flex items-center",children:[(0,b.jsx)(l.Badge,{variant:"outline",className:w[a]??"bg-secondary text-secondary-foreground",children:a}),(0,b.jsx)(e.ChevronDown,{className:"ml-1.5 h-3 w-3 text-muted-foreground/50"})]})}),(0,b.jsx)(o.DropdownMenuContent,{align:"start",children:"Active"===a&&(0,b.jsx)(o.DropdownMenuItem,{onClick:()=>{N({open:!0,id:d,quizTitle:f,confirmText:""})},className:"cursor-pointer text-red-500 focus:text-red-500",children:"Block"})})]})}}],U=a.map(a=>({id:a.id,title:a.title,creator:a.creator,category:a.category??"-",questions:Array.isArray(a.questions)?a.questions.length:0,language:a.language??"ID",difficulty:a.is_public?"Publik":"Private",createdAt:a.created_at?(0,f.format)(new Date(a.created_at),"dd MMM yyyy"):"-",status:"block"===a.status?"Block":"Active"}));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Quiz Data"})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.Input,{placeholder:"Cari quiz...",className:"pr-10 w-64 bg-background border-border",value:I,onChange:a=>J(a.target.value),onKeyDown:a=>{"Enter"===a.key&&P()}}),(0,b.jsx)("button",{onClick:P,disabled:F,className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 flex items-center justify-center rounded-md bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50 transition-colors",children:(0,b.jsx)(c.Search,{className:"h-3.5 w-3.5"})})]}),(0,b.jsxs)(n.Select,{value:B,onValueChange:a=>O({category:a,page:1}),children:[(0,b.jsx)(n.SelectTrigger,{className:"w-36",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.SlidersHorizontal,{className:"h-4 w-4"}),(0,b.jsx)(n.SelectValue,{placeholder:"Category"})]})}),(0,b.jsxs)(n.SelectContent,{children:[(0,b.jsx)(n.SelectItem,{value:"all",children:"All Category"}),z.map(a=>(0,b.jsx)(n.SelectItem,{value:a,children:y(a)},a))]})]}),(0,b.jsxs)(n.Select,{value:C,onValueChange:a=>O({visibility:a,page:1}),children:[(0,b.jsx)(n.SelectTrigger,{className:"w-36",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.SlidersHorizontal,{className:"h-4 w-4"}),(0,b.jsx)(n.SelectValue,{placeholder:"Visibility"})]})}),(0,b.jsxs)(n.SelectContent,{children:[(0,b.jsx)(n.SelectItem,{value:"all",children:"All"}),(0,b.jsx)(n.SelectItem,{value:"publik",children:"Publik"}),(0,b.jsx)(n.SelectItem,{value:"private",children:"Private"}),(0,b.jsx)(n.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(n.SelectItem,{value:"block",children:"Block"})]})]})]})]}),(0,b.jsx)("div",{className:F?"opacity-60 pointer-events-none":"",children:(0,b.jsx)(j.DataTable,{columns:T,data:U,currentPage:x,totalPages:s,onPageChange:a=>{O({page:a,search:A,category:B,visibility:C}),window.scrollTo({top:0,behavior:"smooth"})},onRowClick:a=>D.push(`/quizzes/${a.id}`)})}),(0,b.jsx)(p.Dialog,{open:K.open,onOpenChange:a=>L(b=>({...b,open:a})),children:(0,b.jsxs)(p.DialogContent,{showCloseButton:!1,children:[(0,b.jsxs)(p.DialogHeader,{children:[(0,b.jsx)(p.DialogTitle,{children:"Ubah Visibility Quiz"}),(0,b.jsxs)(p.DialogDescription,{children:["Apakah Anda yakin ingin mengubah visibility quiz"," ",(0,b.jsx)("strong",{children:K.quizTitle})," dari"," ",(0,b.jsx)("strong",{children:K.currentValue})," menjadi"," ",(0,b.jsx)("strong",{children:K.newValue}),"?"]})]}),(0,b.jsxs)(p.DialogFooter,{children:[(0,b.jsx)(k.Button,{variant:"outline",onClick:()=>L(a=>({...a,open:!1})),children:"Batal"}),(0,b.jsx)(k.Button,{onClick:R,children:"Ya, Ubah"})]})]})}),(0,b.jsx)(p.Dialog,{open:M.open,onOpenChange:a=>N(b=>({...b,open:a,confirmText:""})),children:(0,b.jsxs)(p.DialogContent,{showCloseButton:!1,children:[(0,b.jsxs)(p.DialogHeader,{children:[(0,b.jsx)(p.DialogTitle,{className:"text-destructive",children:"Block Quiz"}),(0,b.jsxs)(p.DialogDescription,{children:["Anda akan memblokir quiz ",(0,b.jsx)("strong",{children:M.quizTitle}),". Status quiz akan berubah menjadi block."]})]}),(0,b.jsxs)("div",{className:"grid gap-2 py-4",children:[(0,b.jsxs)(r.Label,{htmlFor:"confirmBlock",children:["Ketik ",(0,b.jsx)("strong",{className:"text-destructive",children:"Block"})," untuk mengkonfirmasi"]}),(0,b.jsx)(m.Input,{id:"confirmBlock",value:M.confirmText,onChange:a=>N(b=>({...b,confirmText:a.target.value})),placeholder:"Ketik 'Block' di sini"})]}),(0,b.jsxs)(p.DialogFooter,{children:[(0,b.jsx)(k.Button,{variant:"outline",onClick:()=>N(a=>({...a,open:!1,confirmText:""})),children:"Batal"}),(0,b.jsx)(k.Button,{variant:"destructive",onClick:S,disabled:"Block"!==M.confirmText,children:"Block Quiz"})]})]})})]})}function y(a){return a&&"-"!==a?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():a}a.s(["QuizTable",()=>x],50338)}];

//# sourceMappingURL=_e679f453._.js.map