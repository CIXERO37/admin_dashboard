module.exports=[42247,a=>{"use strict";var b=a.i(87924),c=a.i(11011),d=a.i(11989),d=d;(0,a.i(70106).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var e=a.i(97895);function f({...a}){return(0,b.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...a})}function g({className:a,...c}){return(0,b.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,e.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",a),...c})}function h({className:a,...c}){return(0,b.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,e.cn)("inline-flex items-center gap-1.5",a),...c})}function i({asChild:a,className:d,...f}){let g=a?c.Slot:"a";return(0,b.jsx)(g,{"data-slot":"breadcrumb-link",className:(0,e.cn)("hover:text-foreground transition-colors",d),...f})}function j({className:a,...c}){return(0,b.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,e.cn)("text-foreground font-normal",a),...c})}function k({children:a,className:c,...f}){return(0,b.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,e.cn)("[&>svg]:size-3.5",c),...f,children:a??(0,b.jsx)(d.default,{})})}a.s(["Breadcrumb",()=>f,"BreadcrumbItem",()=>h,"BreadcrumbLink",()=>i,"BreadcrumbList",()=>g,"BreadcrumbPage",()=>j,"BreadcrumbSeparator",()=>k],42247)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},33350,a=>{"use strict";let b=(0,a.i(70106).default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);a.s(["Tag",()=>b],33350)},46893,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},93314,a=>{"use strict";let b=(0,a.i(70106).default)("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);a.s(["FileQuestion",()=>b],93314)},18188,46569,a=>{"use strict";var b=a.i(73993),c=(0,b.createServerReference)("40ecfbe13c77b0f12999ae8fb0052dfbf4b88227b8",b.callServer,void 0,b.findSourceMapURL,"approveQuizAction");a.s(["approveQuizAction",()=>c],18188);var d=(0,b.createServerReference)("60f6b9ffa54f61be1e26bbc70d89e33509e1909362",b.callServer,void 0,b.findSourceMapURL,"rejectQuizAction");a.s(["rejectQuizAction",()=>d],46569)},40948,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(56711),g=a.i(16201),h=a.i(70106);let i=(0,h.default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var j=a.i(46842),k=a.i(41675),l=a.i(93314),m=a.i(44494),n=a.i(33350);let o=(0,h.default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var p=a.i(97895),q=a.i(42247),r=a.i(40695),s=a.i(54161),t=a.i(7706),u=a.i(65733),v=a.i(46893),w=a.i(17171),x=a.i(70246),y=a.i(73993),z=(0,y.createServerReference)("408b1bb5da3e4894bbefe538834abf78eaa54dcce4",y.callServer,void 0,y.findSourceMapURL,"fetchQuizApprovalById"),A=a.i(18188),B=a.i(46569);function C({params:a}){let h=(0,d.useRouter)(),{toast:y}=(0,x.useToast)(),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(!0),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(!1);(0,c.useEffect)(()=>{!async function(){let{id:b}=await a;H(b);let{data:c,error:d}=await z(b);if(d||!c){y({title:"Error",description:"Quiz not found",variant:"destructive"}),h.push("/quiz-approval");return}D(c),F(!1)}()},[a,h,y]);let Q=async()=>{P(!0);let{error:a}=await (0,A.approveQuizAction)(G);a?y({title:"Error",description:"Failed to approve quiz",variant:"destructive"}):(y({title:"Success",description:"Quiz has been approved and published"}),h.push("/quiz-approval")),P(!1),J(!1)},R=async()=>{P(!0);let{error:a}=await (0,B.rejectQuizAction)(G,M);a?y({title:"Error",description:"Failed to reject quiz",variant:"destructive"}):(y({title:"Success",description:"Quiz has been rejected"}),h.push("/quiz-approval")),P(!1),L(!1),N("")};if(E)return(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"text-muted-foreground",children:"Loading..."})});if(!C)return null;let S=Array.isArray(C.questions)?C.questions:[];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(q.Breadcrumb,{children:(0,b.jsxs)(q.BreadcrumbList,{children:[(0,b.jsx)(q.BreadcrumbItem,{children:(0,b.jsx)(q.BreadcrumbLink,{asChild:!0,children:(0,b.jsx)(e.default,{href:"/quiz-approval",children:"Quiz Approval"})})}),(0,b.jsx)(q.BreadcrumbSeparator,{}),(0,b.jsx)(q.BreadcrumbItem,{children:(0,b.jsx)(q.BreadcrumbPage,{className:"max-w-[200px] truncate",children:C.title})})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(r.Button,{variant:"outline",className:"gap-2 border-red-300 text-red-600 hover:bg-red-50 hover:text-red-700 hover:border-red-400 cursor-pointer transition-all duration-200 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-950 dark:hover:text-red-300",onClick:()=>L(!0),children:[(0,b.jsx)(i,{className:"h-4 w-4"}),"Reject"]}),(0,b.jsxs)(r.Button,{className:"gap-2 bg-emerald-500 hover:bg-emerald-600 shadow-sm hover:shadow-md cursor-pointer transition-all duration-200",onClick:()=>J(!0),children:[(0,b.jsx)(g.CheckCircle,{className:"h-4 w-4"}),"Approve"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Review Quiz"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Review the quiz content before approving"})]})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[(C.cover_image||C.image_url)&&(0,b.jsxs)("div",{className:"relative h-48 w-full overflow-hidden bg-muted",children:[(0,b.jsx)("img",{src:C.cover_image||C.image_url,alt:C.title,className:"h-full w-full object-cover transition-transform hover:scale-105 duration-700"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 to-black/30"})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:C.title}),C.description&&(0,b.jsx)("p",{className:"text-muted-foreground",children:C.description})]}),(0,b.jsx)(s.Badge,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/30",children:"Pending Approval"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(j.User,{className:"h-4 w-4"}),"Creator"]}),C.creator?(0,b.jsxs)(e.default,{href:`/users/${C.creator.id}?from=/quiz-approval`,className:"flex items-center gap-3",children:[(0,b.jsxs)(t.Avatar,{className:"h-10 w-10",children:[(0,b.jsx)(t.AvatarImage,{src:(0,p.getAvatarUrl)(C.creator.avatar_url)}),(0,b.jsx)(t.AvatarFallback,{children:C.creator.fullname?.[0]??"?"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm hover:text-primary transition-colors",children:C.creator.fullname}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["@",C.creator.username]})]})]}):(0,b.jsx)("p",{className:"text-foreground",children:"Unknown"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(n.Tag,{className:"h-4 w-4"}),"Category"]}),(0,b.jsx)("p",{className:"font-medium capitalize",children:C.category||"-"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(m.Globe,{className:"h-4 w-4"}),"Language"]}),(0,b.jsx)("p",{className:"font-medium uppercase",children:C.language||"ID"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(k.Calendar,{className:"h-4 w-4"}),"Created"]}),(0,b.jsx)("p",{className:"font-medium",children:C.created_at?(0,f.format)(new Date(C.created_at),"dd MMM yyyy, HH:mm"):"-"})]})]}),C.creator?.email&&(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-muted/50 flex items-center gap-3",children:[(0,b.jsx)(o,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Creator Email"}),(0,b.jsx)("p",{className:"font-medium",children:C.creator.email})]})]})]})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[(0,b.jsx)("div",{className:"p-4 border-b border-border bg-secondary/50 flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(l.FileQuestion,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("h3",{className:"text-lg font-semibold text-foreground",children:["Questions (",S.length,")"]})]})}),S.length>0?(0,b.jsx)("div",{className:"divide-y divide-border",children:S.map((a,c)=>{let d=a.question||a.text||"-",e=a.options||a.answers||[],f=a.correct_answer??a.correctAnswer??a.correct;return(0,b.jsxs)("div",{className:"p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("span",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-primary/10 text-primary font-medium flex items-center justify-center text-sm",children:c+1}),(0,b.jsx)("p",{className:"text-foreground pt-1",children:d})]}),e.length>0&&(0,b.jsx)("div",{className:"pl-11 space-y-2",children:e.map((a,c)=>{let d="string"==typeof a?a:a?.answer||"-",e="object"==typeof a?a?.id:null,g=f===c||f===e;return(0,b.jsxs)("div",{className:(0,p.cn)("p-2 rounded-lg text-sm flex items-center gap-2",g?"bg-green-500/10 text-green-600 border border-green-500/30":"bg-secondary/50 text-muted-foreground"),children:[(0,b.jsxs)("span",{className:"font-medium",children:[String.fromCharCode(65+c),"."]}),(0,b.jsx)("span",{className:"flex-1",children:d}),g&&(0,b.jsx)(s.Badge,{className:"bg-green-500/20 text-green-600 border-green-500/30",children:"Correct"})]},c)})})]},c)})}):(0,b.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"No questions in this quiz"})]}),(0,b.jsx)(u.Dialog,{open:I,onOpenChange:J,children:(0,b.jsxs)(u.DialogContent,{children:[(0,b.jsxs)(u.DialogHeader,{children:[(0,b.jsx)(u.DialogTitle,{children:"Approve Quiz"}),(0,b.jsx)(u.DialogDescription,{children:"Are you sure you want to approve this quiz?"})]}),(0,b.jsxs)(u.DialogFooter,{children:[(0,b.jsx)(r.Button,{variant:"outline",onClick:()=>J(!1),disabled:O,className:"cursor-pointer",children:"Cancel"}),(0,b.jsx)(r.Button,{onClick:Q,disabled:O,className:"bg-emerald-500 hover:bg-emerald-600 text-white cursor-pointer",children:O?"Processing...":"Approve"})]})]})}),(0,b.jsx)(u.Dialog,{open:K,onOpenChange:L,children:(0,b.jsxs)(u.DialogContent,{children:[(0,b.jsxs)(u.DialogHeader,{children:[(0,b.jsx)(u.DialogTitle,{children:"Reject Quiz"}),(0,b.jsx)(u.DialogDescription,{children:"Are you sure you want to reject this quiz?"})]}),(0,b.jsxs)("div",{className:"grid gap-2 py-4",children:[(0,b.jsx)(w.Label,{htmlFor:"reason",children:"Reason for Rejection"}),(0,b.jsx)(v.Textarea,{id:"reason",placeholder:"e.g., Inappropriate content, Low image quality, etc.",value:M,onChange:a=>N(a.target.value),rows:3})]}),(0,b.jsxs)(u.DialogFooter,{children:[(0,b.jsx)(r.Button,{variant:"outline",onClick:()=>{L(!1),N("")},disabled:O,className:"cursor-pointer",children:"Cancel"}),(0,b.jsx)(r.Button,{variant:"destructive",onClick:R,disabled:O||!M.trim(),className:"cursor-pointer",children:O?"Processing...":"Reject Quiz"})]})]})})]})}a.s(["default",()=>C],40948)}];

//# sourceMappingURL=_5a3786c6._.js.map