module.exports=[60249,a=>{"use strict";var b=a.i(87924),c=a.i(97895),d=a.i(38246);function e({title:a,value:e,change:f,changeType:g="neutral",icon:h,description:i,href:j}){let k=(0,c.cn)("group relative overflow-hidden rounded-xl border border-border bg-card p-6 transition-all duration-300 hover:border-primary hover:shadow-xl hover:shadow-primary/20",j&&"cursor-pointer block"),l=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary/80 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),(0,b.jsxs)("div",{className:"relative flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:a}),(0,b.jsx)("p",{className:"text-3xl font-bold tracking-tight text-foreground",suppressHydrationWarning:!0,children:e}),f&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:(0,c.cn)("text-xs font-medium","increase"===g&&"text-[var(--success)]","decrease"===g&&"text-destructive","neutral"===g&&"text-muted-foreground"),children:f}),i&&(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:i})]})]}),(0,b.jsx)("div",{className:"rounded-lg bg-primary/10 p-3 transition-all duration-300 group-hover:bg-primary group-hover:scale-110",children:(0,b.jsx)(h,{className:"h-5 w-5 text-primary transition-colors group-hover:text-primary-foreground"})})]})]});return j?(0,b.jsx)(d.default,{href:j,className:k,children:l}):(0,b.jsx)("div",{className:k,children:l})}a.s(["StatCard",()=>e])},85185,a=>{"use strict";var b=a.i(87924);function c({title:a,description:c,action:d}){return(0,b.jsxs)("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:a}),c&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:c})]}),d&&(0,b.jsx)("div",{className:"mt-2 sm:mt-0",children:d})]})}a.s(["SectionHeader",()=>c])},12451,a=>{"use strict";var b=a.i(87924),c=a.i(38246);let d=(0,a.i(70106).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function e({title:a,description:e,href:f,icon:g,stats:h}){return(0,b.jsx)(c.default,{href:f,children:(0,b.jsx)("div",{className:"group relative overflow-hidden rounded-xl border border-border bg-card p-6 transition-all duration-300 hover:border-primary hover:shadow-xl hover:shadow-primary/20 hover:-translate-y-1",children:(0,b.jsxs)("div",{className:"relative space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"rounded-lg bg-secondary p-3 transition-all duration-300 group-hover:bg-primary group-hover:scale-110",children:(0,b.jsx)(g,{className:"h-5 w-5 text-primary transition-colors group-hover:text-primary-foreground"})}),h&&(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:h})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:a}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:e})]}),(0,b.jsxs)("div",{className:"flex items-center text-sm font-medium text-primary opacity-0 transition-all duration-300 group-hover:opacity-100",children:[(0,b.jsx)("span",{children:"View details"}),(0,b.jsx)(d,{className:"ml-1 h-4 w-4 transition-transform duration-300 group-hover:translate-x-1"})]})]})})})}a.s(["ActionCard",()=>e],12451)},85937,a=>{"use strict";var b=a.i(72131),c=a.i(95659);function d(){let[a,d]=(0,b.useState)([]),[e,f]=(0,b.useState)(!0),[g,h]=(0,b.useState)(null);return(0,b.useEffect)(()=>{let a=new AbortController,b=(0,c.getSupabaseBrowserClient)();return async function(){try{f(!0),h(null);let{data:c,error:e}=await b.from("profiles").select("*, state:states(name), city:cities(name)").order("last_active",{ascending:!1,nullsFirst:!1}).abortSignal(a.signal);if(e){if(e.message.includes("aborted")||"AbortError"===e.name)return;h(e.message),d([])}else d(c??[]);f(!1)}catch(a){if(a instanceof Error&&("AbortError"===a.name||a.message.includes("aborted")))return;h(a instanceof Error?a.message:"An error occurred"),f(!1)}}(),()=>a.abort()},[]),{data:a,loading:e,error:g,aggregates:(0,b.useMemo)(()=>({countries:[],provinces:[]}),[]),updateProfile:async(a,b)=>{let e=(0,c.getSupabaseBrowserClient)();d(c=>c.map(c=>c.id===a?{...c,...b}:c));let{error:f}=await e.from("profiles").update(b).eq("id",a);return f?(console.error("Error updating profile:",f),{error:f}):{error:null}},deleteProfile:async a=>{let b=(0,c.getSupabaseBrowserClient)();d(b=>b.filter(b=>b.id!==a));let{error:e}=await b.from("profiles").delete().eq("id",a);return e?(console.error("Error deleting profile:",e),{error:e}):{error:null}}}}a.s(["useProfiles",()=>d])},23701,a=>{"use strict";var b=a.i(87924),c=a.i(53722),d=a.i(44494),e=a.i(24987),f=a.i(20494),g=a.i(60249),h=a.i(12451),i=a.i(85185),j=a.i(72131),k=a.i(95659),l=a.i(85937);function m(){let{data:a}=function(){let[a,b]=(0,j.useState)([]),[c,d]=(0,j.useState)(!0),[e,f]=(0,j.useState)(null);return(0,j.useEffect)(()=>{let a=new AbortController,c=(0,k.getSupabaseBrowserClient)();return async function(){try{d(!0),f(null);let{data:e,error:g}=await c.from("quizzes").select("id, title, category, questions, is_hidden, is_public, created_at, language, creator:profiles!creator_id(email, fullname, avatar_url)").order("created_at",{ascending:!1}).abortSignal(a.signal);if(g){if(g.message.includes("aborted")||"AbortError"===g.name)return;f(g.message),b([])}else b((e??[]).map(a=>({...a,creator:Array.isArray(a.creator)?a.creator[0]:a.creator})));d(!1)}catch(a){if(a instanceof Error&&("AbortError"===a.name||a.message.includes("aborted")))return;f(a instanceof Error?a.message:"An error occurred"),d(!1)}}(),()=>a.abort()},[]),{data:a,loading:c,error:e,updateQuiz:async(a,c)=>{let d=(0,k.getSupabaseBrowserClient)();b(b=>b.map(b=>b.id===a?{...b,...c}:b));let{error:e}=await d.from("quizzes").update(c).eq("id",a);return e?(console.error("Error updating quiz:",e),{error:e}):{error:null}},deleteQuiz:async a=>{let c=(0,k.getSupabaseBrowserClient)();b(b=>b.filter(b=>b.id!==a));let{error:d}=await c.from("quizzes").delete().eq("id",a);return d?(console.error("Error deleting quiz:",d),{error:d}):{error:null}}}}(),{aggregates:m}=(0,l.useProfiles)(),n=a.filter(a=>!a.is_hidden),o=m?.countries.length??0,p=m?.provinces.length??0,q=a.length+o+p;return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Master Data Dashboard"})}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(g.StatCard,{title:"Quizzes",value:a.length,change:`${n.length} visible`,changeType:"neutral",icon:c.BookOpen}),(0,b.jsx)(g.StatCard,{title:"Countries",value:o,icon:d.Globe}),(0,b.jsx)(g.StatCard,{title:"Locations",value:p,icon:e.MapPin}),(0,b.jsx)(g.StatCard,{title:"Records",value:q,change:"Quizzes + locations",changeType:"neutral",icon:f.Database})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.SectionHeader,{title:"Master Data Modules",description:"Quick access to all master data"}),(0,b.jsxs)("div",{className:"mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsx)(h.ActionCard,{title:"Quiz Data",description:"Manage quiz content and settings",href:"/master/quiz",icon:c.BookOpen,stats:`${a.length} quizzes`}),(0,b.jsx)(h.ActionCard,{title:"Country Data",description:"Aggregate users per country",href:"/master/country",icon:d.Globe,stats:`${o} countries`}),(0,b.jsx)(h.ActionCard,{title:"Location Data",description:"Profile locations with coordinates",href:"/master/province",icon:e.MapPin,stats:`${p} locations`})]})]})]})}a.s(["default",()=>m],23701)}];

//# sourceMappingURL=_b046d92e._.js.map