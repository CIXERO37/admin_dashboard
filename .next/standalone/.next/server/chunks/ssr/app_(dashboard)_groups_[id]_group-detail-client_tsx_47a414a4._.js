module.exports=[38171,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(60246),g=a.i(41675),h=a.i(87532),i=a.i(79360),j=a.i(81560),k=a.i(3314),l=a.i(70106);let m=(0,l.default)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var n=a.i(24987);let o=(0,l.default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),p=(0,l.default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var q=a.i(20005),r=a.i(56711),s=a.i(97895),t=a.i(42247),u=a.i(40695),v=a.i(54161),w=a.i(7706),x=a.i(3130),y=a.i(5522),z=a.i(87682),A=a.i(76504),B=a.i(65733),C=a.i(54816),D=a.i(70246);function E({group:a,members:l,totalPages:E,currentPage:F,searchQuery:G,roleFilter:H}){let I;(0,d.useRouter)(),(0,d.useSearchParams)();let[J,K]=(0,c.useTransition)(),{toast:L}=(0,D.useToast)(),[M,N]=(0,c.useState)(G),[O,P]=(0,c.useState)("members"),[Q,R]=(0,c.useState)({open:!1,memberId:"",memberName:""}),S=(I=a.settings,I?.status==="private"?{label:"PRIVATE",variant:"outline"}:{label:"PUBLIC",variant:"secondary"}),T=function(a){let b=a.creator;if(b?.state?.name||b?.city?.name)return[b.state?.name,b.city?.name].filter(Boolean).join(", ");let c=a.settings;return c?.location||"Indonesia"}(a),U=a=>{},V=async()=>{},W=async(a,b)=>{};return(0,b.jsx)(C.TooltipProvider,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(t.Breadcrumb,{children:(0,b.jsxs)(t.BreadcrumbList,{children:[(0,b.jsx)(t.BreadcrumbItem,{children:(0,b.jsx)(t.BreadcrumbLink,{asChild:!0,children:(0,b.jsx)(e.default,{href:"/groups",children:"Groups"})})}),(0,b.jsx)(t.BreadcrumbSeparator,{}),(0,b.jsx)(t.BreadcrumbItem,{children:(0,b.jsx)(t.BreadcrumbPage,{children:a.name})})]})}),(0,b.jsxs)(x.Card,{className:"overflow-hidden border-border bg-card p-0 gap-0",children:[(0,b.jsx)("div",{className:"relative h-32 md:h-48 w-full bg-muted",children:a.cover_url?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:(0,s.getAvatarUrl)(a.cover_url),alt:a.name,className:"h-full w-full object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/10"})]}):(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-primary/10 to-transparent"})}),(0,b.jsxs)("div",{className:"relative flex flex-col items-center px-6 pb-6 pt-0 text-center",children:[(0,b.jsx)("div",{className:"-mt-12 mb-3",children:(0,b.jsxs)(w.Avatar,{className:"h-24 w-24 border-4 border-card shadow-xl",children:[(0,b.jsx)(w.AvatarImage,{src:(0,s.getAvatarUrl)(a.avatar_url),alt:a.name,className:"object-cover"}),(0,b.jsx)(w.AvatarFallback,{className:"text-3xl font-bold bg-primary text-primary-foreground",children:a.name.split(" ").map(a=>a[0]).join("").slice(0,2).toUpperCase()})]})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:a.name}),(0,b.jsx)("p",{className:"max-w-2xl text-muted-foreground mt-1 text-sm",children:a.description||"No description available for this group."}),(0,b.jsxs)("div",{className:"mt-6 flex flex-wrap items-center justify-center gap-4 text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(k.Shield,{className:"h-4 w-4"}),(0,b.jsx)(v.Badge,{variant:S.variant,className:(0,s.cn)("uppercase","secondary"===S.variant&&"bg-emerald-500/10 text-emerald-600 border-emerald-200 dark:border-emerald-900"),children:S.label})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(n.MapPin,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:T})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(g.Calendar,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:a.created_at?(0,r.format)(new Date(a.created_at),"d MMMM yyyy"):"-"})]})]}),(0,b.jsxs)("div",{className:"mt-8 flex w-full max-w-lg items-center justify-center border-b border-border",children:[(0,b.jsx)("button",{onClick:()=>P("members"),className:(0,s.cn)("px-6 py-3 text-sm font-medium transition-colors border-b-2","members"===O?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:"Members"}),(0,b.jsx)("button",{onClick:()=>P("activity"),className:(0,s.cn)("px-6 py-3 text-sm font-medium transition-colors border-b-2","activity"===O?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:"Activity"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-12 pb-6 pt-0",children:[(0,b.jsx)("div",{className:"md:col-span-4 lg:col-span-3 space-y-6",children:(0,b.jsx)(x.Card,{children:(0,b.jsxs)(x.CardContent,{className:"space-y-4 pt-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Creator"}),(0,b.jsxs)(e.default,{href:`/users/${a.creator_id}`,className:"flex items-center gap-3 mt-2 hover:bg-muted p-2 -mx-2 rounded-lg transition-colors group",children:[(0,b.jsxs)(w.Avatar,{className:"h-8 w-8 border border-border",children:[(0,b.jsx)(w.AvatarImage,{src:(0,s.getAvatarUrl)(a.creator?.avatar_url)}),(0,b.jsx)(w.AvatarFallback,{children:(a.creator?.fullname||"?").slice(0,1).toUpperCase()})]}),(0,b.jsxs)("div",{className:"overflow-hidden",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate group-hover:text-primary transition-colors",title:a.creator?.fullname||"Unknown",children:a.creator?.fullname||"Unknown"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:["@",a.creator?.username||"-"]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"rounded-lg bg-muted p-3 text-center",children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:a.member_count}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Members"})]}),(0,b.jsxs)("div",{className:"rounded-lg bg-muted p-3 text-center",children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:l.filter(a=>"admin"===a.role).length}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Admins"})]})]})]})})}),(0,b.jsxs)("div",{className:"md:col-span-8 lg:col-span-9",children:["members"===O&&(0,b.jsxs)(x.Card,{children:[(0,b.jsxs)(x.CardHeader,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsx)("div",{className:"flex flex-col gap-1",children:(0,b.jsx)(x.CardTitle,{className:"text-lg flex items-center gap-2",children:"Members List"})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(y.Input,{placeholder:"Search member...",className:"pr-10 bg-background border-border w-48 lg:w-64",value:M,onChange:a=>N(a.target.value),onKeyDown:a=>{}}),(0,b.jsx)("button",{onClick:()=>{},disabled:J,className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 flex items-center justify-center rounded-md bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50 transition-colors cursor-pointer",children:(0,b.jsx)(h.Search,{className:"h-3.5 w-3.5"})})]}),(0,b.jsxs)(z.Select,{value:H,onValueChange:a=>{},children:[(0,b.jsx)(z.SelectTrigger,{className:"w-32",children:(0,b.jsx)(z.SelectValue,{placeholder:"Role"})}),(0,b.jsxs)(z.SelectContent,{children:[(0,b.jsx)(z.SelectItem,{value:"all",children:"All Roles"}),(0,b.jsx)(z.SelectItem,{value:"owner",children:"Owner"}),(0,b.jsx)(z.SelectItem,{value:"admin",children:"Admin"}),(0,b.jsx)(z.SelectItem,{value:"member",children:"Member"})]})]})]})]}),(0,b.jsxs)(x.CardContent,{children:[l.length>0?(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:l.map((a,c)=>{let d=a.fullname||a.username||"Unknown",f=d.split(" ").map(a=>a[0]).join("").slice(0,2).toUpperCase();return(0,b.jsxs)("div",{className:"group relative flex items-start gap-3 rounded-xl border border-border bg-card p-4 transition-all hover:shadow-md hover:border-primary/50",children:[(0,b.jsxs)(w.Avatar,{className:"h-10 w-10 border border-border shrink-0",children:[(0,b.jsx)(w.AvatarImage,{src:(0,s.getAvatarUrl)(a.avatar_url),alt:d}),(0,b.jsx)(w.AvatarFallback,{children:f})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1 pr-6",children:[(0,b.jsx)(e.default,{href:`/users/${a.user_id}`,className:"font-medium truncate hover:text-primary transition-colors min-w-0",title:d,children:d}),(0,b.jsx)(v.Badge,{variant:"outline",className:function(a){switch(a){case"owner":return"bg-yellow-500/20 text-yellow-600 border-yellow-500/30";case"admin":return"bg-blue-500/20 text-blue-600 border-blue-500/30";default:return"bg-secondary text-secondary-foreground border-border"}}(a.role)+" text-[10px] px-1.5 py-0 h-5 shrink-0",children:a.role})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground truncate mb-2",children:["@",a.username||"-"]}),"owner"!==a.role&&(0,b.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsxs)(A.DropdownMenu,{children:[(0,b.jsx)(A.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(u.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,b.jsx)(i.MoreVertical,{className:"h-3.5 w-3.5"})})}),(0,b.jsxs)(A.DropdownMenuContent,{align:"end",children:["admin"!==a.role&&(0,b.jsxs)(A.DropdownMenuItem,{onClick:()=>W(a.user_id,"admin"),children:[(0,b.jsx)(k.Shield,{className:"h-4 w-4 mr-2"})," ","Make Admin"]}),"admin"===a.role&&(0,b.jsxs)(A.DropdownMenuItem,{onClick:()=>W(a.user_id,"member"),children:[(0,b.jsx)(m,{className:"h-4 w-4 mr-2"})," ","Remove Admin"]}),(0,b.jsx)(A.DropdownMenuSeparator,{}),(0,b.jsxs)(A.DropdownMenuItem,{onClick:()=>R({open:!0,memberId:a.user_id,memberName:d}),className:"text-destructive focus:text-destructive",children:[(0,b.jsx)(j.Trash2,{className:"h-4 w-4 mr-2"})," ","Remove"]})]})]})})]})]},a.user_id||c)})}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center border-2 border-dashed border-muted rounded-xl bg-muted/20",children:[(0,b.jsx)(f.Users,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),(0,b.jsx)("p",{className:"text-lg font-medium",children:"No members found"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground max-w-sm mt-1",children:"Try adjusting your filters or search query to find who you're looking for."})]}),E>1&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-6",children:[(0,b.jsx)(u.Button,{variant:"outline",size:"sm",onClick:()=>U(F-1),disabled:1===F||J,children:"Previous"}),(0,b.jsxs)("div",{className:"text-sm font-medium",children:["Page ",F," of ",E]}),(0,b.jsx)(u.Button,{variant:"outline",size:"sm",onClick:()=>U(F+1),disabled:F===E||J,children:"Next"})]})]})]}),"activity"===O&&(0,b.jsxs)(x.Card,{children:[(0,b.jsx)(x.CardHeader,{children:(0,b.jsxs)(x.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(o,{className:"h-5 w-5 text-primary"}),"Recent Activity"]})}),(0,b.jsx)(x.CardContent,{children:a.activities&&a.activities.length>0?(0,b.jsxs)("div",{className:"space-y-6 relative ml-2",children:[(0,b.jsx)("div",{className:"absolute left-2.5 top-0 bottom-0 w-px bg-border"}),a.activities.sort((a,b)=>new Date(b.created).getTime()-new Date(a.created).getTime()).map((a,c)=>(0,b.jsxs)("div",{className:"relative flex gap-4 items-start group",children:[(0,b.jsx)("div",{className:"absolute left-0 mt-0.5 h-5 w-5 rounded-full bg-background border border-border flex items-center justify-center z-10 group-hover:border-primary transition-colors",children:(a=>{switch(a){case"member_promoted":return(0,b.jsx)(k.Shield,{className:"h-5 w-5 text-blue-500"});case"member_demoted":return(0,b.jsx)(m,{className:"h-5 w-5 text-orange-500"});case"member_joined":return(0,b.jsx)(p,{className:"h-5 w-5 text-green-500"});case"member_left":case"member_removed":return(0,b.jsx)(q.LogOut,{className:"h-5 w-5 text-red-500"});default:return(0,b.jsx)(o,{className:"h-5 w-5 text-muted-foreground"})}})(a.type)}),(0,b.jsx)("div",{className:"flex-1 ml-6 rounded-lg border border-border bg-card/50 p-4 transition-all hover:bg-muted/50",children:(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:(a=>{let c=a.nama||"Unknown User",d=a.type.replace(/_/g," ");switch(a.type){case"member_joined":d="joined the group";break;case"member_left":d="left the group";break;case"member_removed":case"member_kicked":d="was kicked from the group";break;case"member_promoted":d="was promoted to admin";break;case"member_demoted":d="was demoted to member"}return(0,b.jsxs)("span",{children:[(0,b.jsx)("span",{className:"text-emerald-500 font-bold",children:c})," ",d]})})(a)}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:(0,r.format)(new Date(a.created),"d MMM yyyy, HH:mm")})]})})]},a.id||c))]}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center border-2 border-dashed border-muted rounded-xl bg-muted/20",children:[(0,b.jsx)(o,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),(0,b.jsx)("p",{className:"text-lg font-medium",children:"No activity recorded"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Activities will appear here when actions are taken in this group."})]})})]})]})]}),(0,b.jsx)(B.Dialog,{open:Q.open,onOpenChange:a=>R({open:a,memberId:"",memberName:""}),children:(0,b.jsxs)(B.DialogContent,{children:[(0,b.jsxs)(B.DialogHeader,{children:[(0,b.jsx)(B.DialogTitle,{children:"Remove Member"}),(0,b.jsxs)(B.DialogDescription,{children:["Are you sure you want to remove"," ",(0,b.jsx)("strong",{children:Q.memberName})," from this group?"]})]}),(0,b.jsxs)(B.DialogFooter,{children:[(0,b.jsx)(u.Button,{variant:"outline",onClick:()=>R({open:!1,memberId:"",memberName:""}),children:"Cancel"}),(0,b.jsx)(u.Button,{variant:"destructive",onClick:V,children:"Remove Member"})]})]})})]})})}a.s(["GroupDetailClient",()=>E],38171)}];

//# sourceMappingURL=app_%28dashboard%29_groups_%5Bid%5D_group-detail-client_tsx_47a414a4._.js.map