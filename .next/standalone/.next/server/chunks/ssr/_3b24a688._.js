module.exports=[97418,a=>{"use strict";var b=a.i(37936),c=a.i(89227);async function d({page:a=1,limit:b=15,search:d="",region:e="all"}){let f=await (0,c.getSupabaseServerClient)(),g=(a-1)*b,h=f.from("countries").select("id, name, native, region, subregion, iso2, iso3, phonecode, capital, currency, currency_symbol, emoji, latitude, longitude",{count:"exact"});d&&(h=h.or(`name.ilike.%${d}%,native.ilike.%${d}%,iso2.ilike.%${d}%,capital.ilike.%${d}%`)),e&&"all"!==e&&(h=h.eq("region",e));let{data:i,count:j,error:k}=await h.order("name",{ascending:!0}).range(g,g+b-1);if(k)return console.error("Error fetching countries:",k),{data:[],totalCount:0,totalPages:0,regions:[]};let{data:l}=await f.from("countries").select("region").not("region","is",null);return{data:i??[],totalCount:j??0,totalPages:Math.ceil((j??0)/b),regions:[...new Set(l?.map(a=>a.region).filter(Boolean))].sort()}}async function e(a){let b=await (0,c.getSupabaseServerClient)(),{data:d,error:e}=await b.from("countries").select("*").eq("id",a).single();return e?(console.error("Error fetching country:",e),null):d}(0,a.i(13095).ensureServerEntryExports)([d,e]),(0,b.registerServerReference)(d,"404d76fc853a9d60839b428995c9443e5045ac27bf",null),(0,b.registerServerReference)(e,"4095d4af7c5ffb32a2e0ab77877cbe1bf689e9c480",null),a.s(["fetchCountries",()=>d,"fetchCountryById",()=>e])},84916,a=>{"use strict";var b=a.i(51203),c=a.i(97418);a.s([],5107),a.i(5107),a.s(["0036e64456fb2be9f284aa63a8876a0297f090e2e1",()=>b.logout,"404d76fc853a9d60839b428995c9443e5045ac27bf",()=>c.fetchCountries,"4095d4af7c5ffb32a2e0ab77877cbe1bf689e9c480",()=>c.fetchCountryById],84916)}];

//# sourceMappingURL=_3b24a688._.js.map