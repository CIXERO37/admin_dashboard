module.exports=[52258,a=>{"use strict";var b=a.i(37936),c=a.i(89227);async function d({page:a=1,limit:b=15,search:d="",country:e="all"}){let f=await (0,c.getSupabaseServerClient)(),g=(a-1)*b,h=f.from("states").select("id, name, native, country_id, country_code, iso2, type, latitude, longitude",{count:"exact"});d&&(h=h.or(`name.ilike.%${d}%,native.ilike.%${d}%,iso2.ilike.%${d}%,type.ilike.%${d}%`)),e&&"all"!==e&&(h=h.eq("country_code",e));let{data:i,count:j,error:k}=await h.order("name",{ascending:!0}).range(g,g+b-1);if(k)return console.error("Error fetching states:",k),{data:[],totalCount:0,totalPages:0,countries:[]};let{data:l}=await f.from("states").select("country_code").not("country_code","is",null);return{data:i??[],totalCount:j??0,totalPages:Math.ceil((j??0)/b),countries:[...new Set(l?.map(a=>a.country_code).filter(Boolean))].sort()}}async function e(a){let b=await (0,c.getSupabaseServerClient)(),{data:d,error:e}=await b.from("states").select("*").eq("id",a).single();return e?(console.error("Error fetching state:",e),null):d}(0,a.i(13095).ensureServerEntryExports)([d,e]),(0,b.registerServerReference)(d,"407e066967e549f2904a76693a71951942cbebd7db",null),(0,b.registerServerReference)(e,"4067be894076c5fc072ed223e802ddd9b957316fff",null),a.s(["fetchStateById",()=>e,"fetchStates",()=>d])},11169,a=>{"use strict";var b=a.i(51203),c=a.i(52258);a.s([],24182),a.i(24182),a.s(["0036e64456fb2be9f284aa63a8876a0297f090e2e1",()=>b.logout,"4067be894076c5fc072ed223e802ddd9b957316fff",()=>c.fetchStateById,"407e066967e549f2904a76693a71951942cbebd7db",()=>c.fetchStates],11169)}];

//# sourceMappingURL=_f6f8f1b5._.js.map