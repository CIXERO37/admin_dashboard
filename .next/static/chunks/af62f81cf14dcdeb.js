(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87316,e=>{"use strict";let r=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>r],87316)},75117,e=>{"use strict";var r=e.i(43476),a=e.i(91918),t=e.i(46349),t=t;(0,e.i(75254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var s=e.i(47163);function i({...e}){return(0,r.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function l({className:e,...a}){return(0,r.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,s.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...a})}function c({className:e,...a}){return(0,r.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,s.cn)("inline-flex items-center gap-1.5",e),...a})}function n({asChild:e,className:t,...i}){let l=e?a.Slot:"a";return(0,r.jsx)(l,{"data-slot":"breadcrumb-link",className:(0,s.cn)("hover:text-foreground transition-colors",t),...i})}function d({className:e,...a}){return(0,r.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,s.cn)("text-foreground font-normal",e),...a})}function o({children:e,className:a,...i}){return(0,r.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,s.cn)("[&>svg]:size-3.5",a),...i,children:e??(0,r.jsx)(t.default,{})})}e.s(["Breadcrumb",()=>i,"BreadcrumbItem",()=>c,"BreadcrumbLink",()=>n,"BreadcrumbList",()=>l,"BreadcrumbPage",()=>d,"BreadcrumbSeparator",()=>o],75117)},69638,e=>{"use strict";let r=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>r],69638)},51975,e=>{"use strict";let r=(0,e.i(75254).default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>r],51975)},84762,e=>{"use strict";var r=e.i(43476),a=e.i(47163);function t({className:e,...t}){return(0,r.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}e.s(["Textarea",()=>t])},49945,e=>{"use strict";let r=(0,e.i(75254).default)("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);e.s(["FileQuestion",()=>r],49945)},98233,16157,e=>{"use strict";var r=e.i(95187),a=(0,r.createServerReference)("40ecfbe13c77b0f12999ae8fb0052dfbf4b88227b8",r.callServer,void 0,r.findSourceMapURL,"approveQuizAction");e.s(["approveQuizAction",()=>a],98233);var t=(0,r.createServerReference)("60f6b9ffa54f61be1e26bbc70d89e33509e1909362",r.callServer,void 0,r.findSourceMapURL,"rejectQuizAction");e.s(["rejectQuizAction",()=>t],16157)},61878,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(18566),s=e.i(22016),i=e.i(1851),l=e.i(69638),c=e.i(75254);let n=(0,c.default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var d=e.i(84614),o=e.i(87316),u=e.i(49945),m=e.i(48256),x=e.i(51975);let h=(0,c.default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var p=e.i(47163),g=e.i(75117),f=e.i(67881),v=e.i(94179),j=e.i(63270),b=e.i(30374),y=e.i(84762),N=e.i(10708),w=e.i(74117),k=e.i(95187),z=(0,k.createServerReference)("408b1bb5da3e4894bbefe538834abf78eaa54dcce4",k.callServer,void 0,k.findSourceMapURL,"fetchQuizApprovalById"),C=e.i(98233),A=e.i(16157);function B({params:e}){let c=(0,t.useRouter)(),{toast:k}=(0,w.useToast)(),[B,S]=(0,a.useState)(null),[Q,q]=(0,a.useState)(!0),[D,R]=(0,a.useState)(""),[M,L]=(0,a.useState)(!1),[T,F]=(0,a.useState)(!1),[U,_]=(0,a.useState)(""),[I,P]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!async function(){let{id:r}=await e;R(r);let{data:a,error:t}=await z(r);if(t||!a){k({title:"Error",description:"Quiz not found",variant:"destructive"}),c.push("/quiz-approval");return}S(a),q(!1)}()},[e,c,k]);let E=async()=>{P(!0);let{error:e}=await (0,C.approveQuizAction)(D);e?k({title:"Error",description:"Failed to approve quiz",variant:"destructive"}):(k({title:"Success",description:"Quiz has been approved and published"}),c.push("/quiz-approval")),P(!1),L(!1)},H=async()=>{P(!0);let{error:e}=await (0,A.rejectQuizAction)(D,U);e?k({title:"Error",description:"Failed to reject quiz",variant:"destructive"}):(k({title:"Success",description:"Quiz has been rejected"}),c.push("/quiz-approval")),P(!1),F(!1),_("")};if(Q)return(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"text-muted-foreground",children:"Loading..."})});if(!B)return null;let O=Array.isArray(B.questions)?B.questions:[];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(g.Breadcrumb,{children:(0,r.jsxs)(g.BreadcrumbList,{children:[(0,r.jsx)(g.BreadcrumbItem,{children:(0,r.jsx)(g.BreadcrumbLink,{asChild:!0,children:(0,r.jsx)(s.default,{href:"/quiz-approval",children:"Quiz Approval"})})}),(0,r.jsx)(g.BreadcrumbSeparator,{}),(0,r.jsx)(g.BreadcrumbItem,{children:(0,r.jsx)(g.BreadcrumbPage,{className:"max-w-[200px] truncate",children:B.title})})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(f.Button,{variant:"outline",className:"gap-2 border-red-300 text-red-600 hover:bg-red-50 hover:text-red-700 hover:border-red-400 cursor-pointer transition-all duration-200 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-950 dark:hover:text-red-300",onClick:()=>F(!0),children:[(0,r.jsx)(n,{className:"h-4 w-4"}),"Reject"]}),(0,r.jsxs)(f.Button,{className:"gap-2 bg-emerald-500 hover:bg-emerald-600 shadow-sm hover:shadow-md cursor-pointer transition-all duration-200",onClick:()=>L(!0),children:[(0,r.jsx)(l.CheckCircle,{className:"h-4 w-4"}),"Approve"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Review Quiz"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Review the quiz content before approving"})]})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[(B.cover_image||B.image_url)&&(0,r.jsxs)("div",{className:"relative h-48 w-full overflow-hidden bg-muted",children:[(0,r.jsx)("img",{src:B.cover_image||B.image_url,alt:B.title,className:"h-full w-full object-cover transition-transform hover:scale-105 duration-700"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 to-black/30"})]}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:B.title}),B.description&&(0,r.jsx)("p",{className:"text-muted-foreground",children:B.description})]}),(0,r.jsx)(v.Badge,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-500/30",children:"Pending Approval"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,r.jsx)(d.User,{className:"h-4 w-4"}),"Creator"]}),B.creator?(0,r.jsxs)(s.default,{href:`/users/${B.creator.id}?from=/quiz-approval`,className:"flex items-center gap-3",children:[(0,r.jsxs)(j.Avatar,{className:"h-10 w-10",children:[(0,r.jsx)(j.AvatarImage,{src:(0,p.getAvatarUrl)(B.creator.avatar_url)}),(0,r.jsx)(j.AvatarFallback,{children:B.creator.fullname?.[0]??"?"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-sm hover:text-primary transition-colors",children:B.creator.fullname}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["@",B.creator.username]})]})]}):(0,r.jsx)("p",{className:"text-foreground",children:"Unknown"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,r.jsx)(x.Tag,{className:"h-4 w-4"}),"Category"]}),(0,r.jsx)("p",{className:"font-medium capitalize",children:B.category||"-"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,r.jsx)(m.Globe,{className:"h-4 w-4"}),"Language"]}),(0,r.jsx)("p",{className:"font-medium uppercase",children:B.language||"ID"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,r.jsx)(o.Calendar,{className:"h-4 w-4"}),"Created"]}),(0,r.jsx)("p",{className:"font-medium",children:B.created_at?(0,i.format)(new Date(B.created_at),"dd MMM yyyy, HH:mm"):"-"})]})]}),B.creator?.email&&(0,r.jsxs)("div",{className:"p-4 rounded-lg bg-muted/50 flex items-center gap-3",children:[(0,r.jsx)(h,{className:"h-5 w-5 text-muted-foreground"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Creator Email"}),(0,r.jsx)("p",{className:"font-medium",children:B.creator.email})]})]})]})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-border bg-card overflow-hidden",children:[(0,r.jsx)("div",{className:"p-4 border-b border-border bg-secondary/50 flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u.FileQuestion,{className:"h-5 w-5 text-primary"}),(0,r.jsxs)("h3",{className:"text-lg font-semibold text-foreground",children:["Questions (",O.length,")"]})]})}),O.length>0?(0,r.jsx)("div",{className:"divide-y divide-border",children:O.map((e,a)=>{let t=e.question||e.text||"-",s=e.options||e.answers||[],i=e.correct_answer??e.correctAnswer??e.correct;return(0,r.jsxs)("div",{className:"p-4 space-y-3",children:[(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("span",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-primary/10 text-primary font-medium flex items-center justify-center text-sm",children:a+1}),(0,r.jsx)("p",{className:"text-foreground pt-1",children:t})]}),s.length>0&&(0,r.jsx)("div",{className:"pl-11 space-y-2",children:s.map((e,a)=>{let t="string"==typeof e?e:e?.answer||"-",s="object"==typeof e?e?.id:null,l=i===a||i===s;return(0,r.jsxs)("div",{className:(0,p.cn)("p-2 rounded-lg text-sm flex items-center gap-2",l?"bg-green-500/10 text-green-600 border border-green-500/30":"bg-secondary/50 text-muted-foreground"),children:[(0,r.jsxs)("span",{className:"font-medium",children:[String.fromCharCode(65+a),"."]}),(0,r.jsx)("span",{className:"flex-1",children:t}),l&&(0,r.jsx)(v.Badge,{className:"bg-green-500/20 text-green-600 border-green-500/30",children:"Correct"})]},a)})})]},a)})}):(0,r.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"No questions in this quiz"})]}),(0,r.jsx)(b.Dialog,{open:M,onOpenChange:L,children:(0,r.jsxs)(b.DialogContent,{children:[(0,r.jsxs)(b.DialogHeader,{children:[(0,r.jsx)(b.DialogTitle,{children:"Approve Quiz"}),(0,r.jsx)(b.DialogDescription,{children:"Are you sure you want to approve this quiz?"})]}),(0,r.jsxs)(b.DialogFooter,{children:[(0,r.jsx)(f.Button,{variant:"outline",onClick:()=>L(!1),disabled:I,className:"cursor-pointer",children:"Cancel"}),(0,r.jsx)(f.Button,{onClick:E,disabled:I,className:"bg-emerald-500 hover:bg-emerald-600 text-white cursor-pointer",children:I?"Processing...":"Approve"})]})]})}),(0,r.jsx)(b.Dialog,{open:T,onOpenChange:F,children:(0,r.jsxs)(b.DialogContent,{children:[(0,r.jsxs)(b.DialogHeader,{children:[(0,r.jsx)(b.DialogTitle,{children:"Reject Quiz"}),(0,r.jsx)(b.DialogDescription,{children:"Are you sure you want to reject this quiz?"})]}),(0,r.jsxs)("div",{className:"grid gap-2 py-4",children:[(0,r.jsx)(N.Label,{htmlFor:"reason",children:"Reason for Rejection"}),(0,r.jsx)(y.Textarea,{id:"reason",placeholder:"e.g., Inappropriate content, Low image quality, etc.",value:U,onChange:e=>_(e.target.value),rows:3})]}),(0,r.jsxs)(b.DialogFooter,{children:[(0,r.jsx)(f.Button,{variant:"outline",onClick:()=>{F(!1),_("")},disabled:I,className:"cursor-pointer",children:"Cancel"}),(0,r.jsx)(f.Button,{variant:"destructive",onClick:H,disabled:I||!U.trim(),className:"cursor-pointer",children:I?"Processing...":"Reject Quiz"})]})]})})]})}e.s(["default",()=>B],61878)}]);