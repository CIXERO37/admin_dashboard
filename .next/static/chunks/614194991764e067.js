(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,54943,e=>{"use strict";let r=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["default",()=>r],54943),e.s(["Search",()=>r],55436)},5629,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(47163);function s({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...t})})}function n({className:e,...t}){return(0,r.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...t})}function o({className:e,...t}){return(0,r.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...t})}function l({className:e,...t}){return(0,r.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function i({className:e,...t}){return(0,r.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function c({className:e,...t}){return(0,r.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}var d=e.i(94179),u=e.i(55436);function m({columns:e,data:d,className:m,currentPage:x=1,totalPages:h=1,onPageChange:g,onRowClick:p}){let f=h>1&&g,[b,v]=(0,t.useState)(null),[j,y]=(0,t.useState)(""),w=e=>{e.preventDefault();let r=parseInt(j,10);r>=1&&r<=h&&g&&g(r),v(null),y("")};return(0,r.jsxs)("div",{className:(0,a.cn)("rounded-xl border border-border bg-card overflow-hidden",m),children:[(0,r.jsxs)(s,{children:[(0,r.jsx)(n,{children:(0,r.jsx)(l,{className:"border-border bg-secondary/50 hover:bg-secondary/50",children:e.map(e=>(0,r.jsx)(i,{className:"text-muted-foreground font-medium",children:e.label},e.key))})}),(0,r.jsx)(o,{children:0===d.length?(0,r.jsx)(l,{children:(0,r.jsx)(c,{colSpan:e.length,className:"text-center py-8 text-muted-foreground",children:"No data available"})}):d.map((t,s)=>(0,r.jsx)(l,{className:(0,a.cn)("border-border transition-colors hover:bg-secondary/60",p&&"cursor-pointer"),onClick:()=>p?.(t),children:e.map(e=>(0,r.jsx)(c,{className:"text-foreground",children:e.render?e.render(t[e.key],t):t[e.key]},e.key))},s))})]}),f&&(0,r.jsxs)("div",{className:"flex items-center justify-between border-t border-border bg-secondary/30 px-6 py-4",children:[(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page"," ",(0,r.jsx)("span",{className:"font-medium text-foreground",children:x})," ","of ",(0,r.jsx)("span",{className:"font-medium text-foreground",children:h})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>g(x-1),disabled:1===x,className:(0,a.cn)("px-3 py-1.5 text-sm font-medium rounded-lg border transition-colors",1===x?"border-border bg-secondary/50 text-muted-foreground cursor-not-allowed":"border-border bg-card text-foreground hover:bg-secondary/80 cursor-pointer"),children:"Previous"}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:(()=>{let e=[];if(h<=7)for(let r=1;r<=h;r++)e.push(r);else e.push(1),x<=3?e.push(2,3,4,"...",h):x>=h-2?e.push("...",h-3,h-2,h-1,h):e.push("...",x-1,x,x+1,"...",h);return e.map((e,t)=>{if("..."===e){let e=`ellipsis-${t}`;return b===e?(0,r.jsxs)("form",{onSubmit:w,className:"relative",children:[(0,r.jsx)(u.Search,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground pointer-events-none"}),(0,r.jsx)("input",{type:"number",min:1,max:h,value:j,onChange:e=>y(e.target.value),onBlur:()=>{v(null),y("")},autoFocus:!0,className:"w-14 h-9 pl-6 pr-1 text-sm text-center font-medium rounded-lg border border-primary bg-card text-foreground focus:outline-none focus:ring-1 focus:ring-primary [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]},e):(0,r.jsx)("button",{onClick:()=>v(e),className:"w-9 h-9 flex items-center justify-center text-sm text-muted-foreground hover:text-foreground hover:bg-secondary/80 rounded-lg border border-transparent hover:border-border transition-colors cursor-pointer",title:"Click to jump to page",children:"..."},e)}return(0,r.jsx)("button",{onClick:()=>g(e),className:(0,a.cn)("w-9 h-9 text-sm font-medium rounded-lg border transition-colors cursor-pointer",x===e?"border-primary bg-primary text-primary-foreground":"border-border bg-card text-foreground hover:bg-secondary/80"),children:e},e)})})()}),(0,r.jsx)("button",{onClick:()=>g(x+1),disabled:x===h,className:(0,a.cn)("px-3 py-1.5 text-sm font-medium rounded-lg border transition-colors",x===h?"border-border bg-secondary/50 text-muted-foreground cursor-not-allowed":"border-border bg-card text-foreground hover:bg-secondary/80 cursor-pointer"),children:"Next"})]})]})]})}function x({status:e}){let t={Active:"bg-[var(--success)]/20 text-[var(--success)] border-[var(--success)]/30",Pending:"bg-[var(--warning)]/20 text-[var(--warning)] border-[var(--warning)]/30","In Progress":"bg-primary/20 text-primary border-primary/30",Resolved:"bg-[var(--success)]/20 text-[var(--success)] border-[var(--success)]/30","Under Review":"bg-[var(--warning)]/20 text-[var(--warning)] border-[var(--warning)]/30",Hidden:"bg-muted text-muted-foreground border-border",Inactive:"bg-muted text-muted-foreground border-border",Blocked:"bg-destructive/20 text-destructive border-destructive/30",Draft:"bg-secondary text-secondary-foreground border-border"};return(0,r.jsx)(d.Badge,{variant:"outline",className:(0,a.cn)("font-medium",t[e]||t.Inactive),children:e})}function h({priority:e}){return(0,r.jsx)(d.Badge,{variant:"outline",className:(0,a.cn)("font-medium",{High:"bg-destructive/20 text-destructive border-destructive/30",Medium:"bg-[var(--warning)]/20 text-[var(--warning)] border-[var(--warning)]/30",Low:"bg-[var(--success)]/20 text-[var(--success)] border-[var(--success)]/30"}[e]||""),children:e})}e.s(["DataTable",()=>m,"PriorityBadge",()=>h,"StatusBadge",()=>x],5629)},30374,e=>{"use strict";var r=e.i(43476),t=e.i(26999),a=e.i(95926),s=e.i(47163);function n({...e}){return(0,r.jsx)(t.Root,{"data-slot":"dialog",...e})}function o({...e}){return(0,r.jsx)(t.Portal,{"data-slot":"dialog-portal",...e})}function l({className:e,...a}){return(0,r.jsx)(t.Overlay,{"data-slot":"dialog-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function i({className:e,children:n,showCloseButton:i=!0,...c}){return(0,r.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,r.jsx)(l,{}),(0,r.jsxs)(t.Content,{"data-slot":"dialog-content",className:(0,s.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...c,children:[n,i&&(0,r.jsxs)(t.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,r.jsx)(a.XIcon,{}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"dialog-header",className:(0,s.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function d({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"dialog-footer",className:(0,s.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function u({className:e,...a}){return(0,r.jsx)(t.Title,{"data-slot":"dialog-title",className:(0,s.cn)("text-lg leading-none font-semibold",e),...a})}function m({className:e,...a}){return(0,r.jsx)(t.Description,{"data-slot":"dialog-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}e.s(["Dialog",()=>n,"DialogContent",()=>i,"DialogDescription",()=>m,"DialogFooter",()=>d,"DialogHeader",()=>c,"DialogTitle",()=>u])},74117,e=>{"use strict";var r=e.i(71645);let t=0,a=new Map,s=e=>{if(a.has(e))return;let r=setTimeout(()=>{a.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,r)},n=[],o={toasts:[]};function l(e){o=((e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?s(t):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}})(o,e),n.forEach(e=>{e(o)})}function i({...e}){let r=(t=(t+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>l({type:"DISMISS_TOAST",toastId:r});return l({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function c(){let[e,t]=r.useState(o);return r.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast:i,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}e.s(["useToast",()=>c])},23585,e=>{"use strict";let r=(0,e.i(75254).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>r],23585)},49582,e=>{"use strict";let r=(0,e.i(75254).default)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);e.s(["SlidersHorizontal",()=>r],49582)},64629,e=>{"use strict";var r=e.i(43476),t=e.i(64659),a=e.i(23585);let s=(0,e.i(75254).default)("UserPen",[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]]);var n=e.i(27612),o=e.i(55436),l=e.i(49582),i=e.i(71645),c=e.i(18566),d=e.i(22016),u=e.i(5629),m=e.i(47163),x=e.i(67881),h=e.i(94179),g=e.i(63270),p=e.i(63415),f=e.i(30374),b=e.i(23750),v=e.i(10708),j=e.i(62870),y=e.i(74117),w=e.i(95187),S=(0,w.createServerReference)("60a15162366377943a3e23738e78de1e1e09a224da",w.callServer,void 0,w.findSourceMapURL,"updateProfileAction"),N=(0,w.createServerReference)("409eb8c54c498120c30cb6b42f4cedc11e98b7d901",w.callServer,void 0,w.findSourceMapURL,"deleteProfileAction");let k={admin:"bg-primary/20 text-primary border-primary/30",manager:"bg-[var(--success)]/20 text-[var(--success)] border-[var(--success)]/30",support:"bg-[var(--warning)]/20 text-[var(--warning)] border-[var(--warning)]/30",billing:"bg-chart-2/20 text-chart-2 border-chart-2/30"};function C({initialData:e,totalPages:w,currentPage:C,searchQuery:T,roleFilter:A,statusFilter:I}){let M=(0,c.useRouter)(),B=(0,c.useSearchParams)(),[_,U]=(0,i.useTransition)(),{toast:O}=(0,y.useToast)(),[R,P]=(0,i.useState)(T),[E,V]=(0,i.useState)({open:!1,type:"role",id:"",currentValue:"",newValue:"",userName:""}),[L,F]=(0,i.useState)({open:!1,id:"",fullname:"",username:"",role:"user",originalRole:"user",status:"active",showConfirm:!1}),[z,H]=(0,i.useState)({open:!1,id:"",userName:"",confirmText:""}),K=e=>{let r=new URLSearchParams(B.toString());Object.entries(e).forEach(([e,t])=>{t&&"all"!==t&&""!==t?r.set(e,String(t)):r.delete(e)}),U(()=>{M.push(`?${r.toString()}`)})},$=()=>{K({search:R,page:1})},q=(e,r,t,a,s)=>{V({open:!0,type:e,id:r,currentValue:t,newValue:a,userName:s})},G=async()=>{if("role"===E.type){let e="admin"===E.newValue,{error:r}=await S(E.id,{role:E.newValue,admin_since:e?new Date().toISOString():null});r?O({title:"Error",description:"Failed to update role",variant:"destructive"}):(O({title:"Success",description:"Role updated successfully"}),M.refresh())}else{let e="Blocked"===E.newValue,{error:r}=await S(E.id,{is_blocked:e,blocked_at:e?new Date().toISOString():null});r?O({title:"Error",description:"Failed to update status",variant:"destructive"}):(O({title:"Success",description:"Status updated successfully"}),M.refresh())}V(e=>({...e,open:!1}))},Y=async()=>{if(!L.showConfirm)return void F(e=>({...e,showConfirm:!0}));let e="blocked"===L.status,r={fullname:L.fullname,username:L.username,role:L.role,is_blocked:e,blocked_at:e?new Date().toISOString():null};"admin"===L.role&&"admin"!==L.originalRole?r.admin_since=new Date().toISOString():"admin"!==L.role&&"admin"===L.originalRole&&(r.admin_since=null);let{error:t}=await S(L.id,r);t?O({title:"Error",description:"Gagal menyimpan perubahan",variant:"destructive"}):(O({title:"Berhasil",description:"Data pengguna berhasil diperbarui"}),M.refresh()),F(e=>({...e,open:!1,showConfirm:!1}))},X=async()=>{if("Move to Trash"!==z.confirmText)return;let{error:e}=await N(z.id);e?O({title:"Error",description:"Gagal menghapus pengguna",variant:"destructive"}):(O({title:"Success",description:"User moved to trash successfully"}),M.refresh()),H(e=>({...e,open:!1,confirmText:""}))},J=[{key:"account",label:"Account",render:(e,t)=>{let a=t.id,s=t.fullname||t.username||"Unknown user",n=t.username,o=n&&"—"!==n?`@${n}`:"—",l=t.avatar;return(0,r.jsxs)(d.default,{href:`/users/${a}`,className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsxs)(g.Avatar,{className:"h-9 w-9",children:[(0,r.jsx)(g.AvatarImage,{src:l,alt:s}),(0,r.jsx)(g.AvatarFallback,{children:s.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium leading-tight hover:text-primary transition-colors",children:s}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:o})]})]})}},{key:"role",label:"Role",render:(e,a)=>{let s=e||"user",n=a.id,o=a.fullname||a.username||"Unknown user";return(0,r.jsxs)(p.DropdownMenu,{children:[(0,r.jsx)(p.DropdownMenuTrigger,{className:"focus:outline-none",children:(0,r.jsxs)("div",{className:"cursor-pointer hover:opacity-80 flex items-center",children:[(0,r.jsx)(h.Badge,{variant:"outline",className:k[s.toLowerCase()]??"bg-secondary text-secondary-foreground border-border",children:D(s)}),(0,r.jsx)(t.ChevronDown,{className:"ml-1.5 h-3 w-3 text-muted-foreground/50"})]})}),(0,r.jsx)(p.DropdownMenuContent,{align:"start",children:["user","admin"].filter(e=>e!==s.toLowerCase()).map(e=>(0,r.jsx)(p.DropdownMenuItem,{onClick:()=>q("role",n,s,e,o),className:"cursor-pointer",children:D(e)},e))})]})}},{key:"status",label:"Status",render:(e,a)=>{let s=a.id,n=a.fullname||a.username||"Unknown user";return(0,r.jsxs)(p.DropdownMenu,{children:[(0,r.jsx)(p.DropdownMenuTrigger,{className:"focus:outline-none",children:(0,r.jsxs)("div",{className:"cursor-pointer hover:opacity-80 flex items-center",children:[(0,r.jsx)(u.StatusBadge,{status:e}),(0,r.jsx)(t.ChevronDown,{className:"ml-1.5 h-3 w-3 text-muted-foreground/50"})]})}),(0,r.jsxs)(p.DropdownMenuContent,{align:"start",children:["Active"!==e&&(0,r.jsx)(p.DropdownMenuItem,{onClick:()=>q("status",s,e,"Active",n),className:"cursor-pointer",children:"Active"}),"Blocked"!==e&&(0,r.jsx)(p.DropdownMenuItem,{onClick:()=>q("status",s,e,"Blocked",n),className:"cursor-pointer",children:"Blocked"})]})]})}},{key:"location",label:"Locations",render:(e,t)=>{let a=t.state||"",s=t.city||"";if(!a&&!s)return(0,r.jsx)("span",{className:"text-muted-foreground",children:"-"});let n=[a,s].filter(Boolean).join(", "),o=encodeURIComponent(n);return(0,r.jsx)("a",{href:`https://www.google.com/maps/search/?api=1&query=${o}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium hover:underline hover:text-primary transition-colors",title:"View on Google Maps",onClick:e=>e.stopPropagation(),children:n})}},{key:"action",label:"Action",render:(e,t)=>{let o=t.fullname||t.username||"Unknown user",l=t.id;return(0,r.jsxs)(p.DropdownMenu,{children:[(0,r.jsx)(p.DropdownMenuTrigger,{className:"focus:outline-none",children:(0,r.jsx)("div",{className:"cursor-pointer hover:opacity-80 p-1 rounded hover:bg-muted",children:(0,r.jsx)(a.MoreVertical,{className:"h-4 w-4 text-muted-foreground"})})}),(0,r.jsxs)(p.DropdownMenuContent,{align:"end",children:[(0,r.jsxs)(p.DropdownMenuItem,{onClick:()=>{let e;return e=(t.role||"user").toLowerCase(),void F({open:!0,id:t.id,fullname:t.fullname||"",username:t.username||"",role:e,originalRole:e,status:"Blocked"===t.status?"blocked":"active",showConfirm:!1})},className:"cursor-pointer",children:[(0,r.jsx)(s,{className:"h-4 w-4 mr-2"}),"Edit User"]}),(0,r.jsx)(p.DropdownMenuSeparator,{}),(0,r.jsxs)(p.DropdownMenuItem,{onClick:()=>{H({open:!0,id:l,userName:o,confirmText:""})},className:"cursor-pointer text-destructive focus:text-destructive",children:[(0,r.jsx)(n.Trash2,{className:"h-4 w-4 mr-2"}),"Move to Trash"]})]})]})}}],Q=e.map(e=>({id:e.id,account:e.id,avatar:(0,m.getAvatarUrl)(e.avatar_url),fullname:e.fullname,username:e.username??"—",email:e.email,role:e.role??"user",status:e.is_blocked?"Blocked":"Active",state:e.state?.name,city:e.city?.name}));return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Users"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(b.Input,{placeholder:"Cari pengguna...",className:"pr-10 w-64 bg-background border-border",value:R,onChange:e=>P(e.target.value),onKeyDown:e=>{"Enter"===e.key&&$()}}),(0,r.jsx)("button",{onClick:$,disabled:_,className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 flex items-center justify-center rounded-md bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50 transition-colors",children:(0,r.jsx)(o.Search,{className:"h-3.5 w-3.5"})})]}),(0,r.jsxs)(j.Select,{value:A,onValueChange:e=>K({role:e,page:1}),children:[(0,r.jsx)(j.SelectTrigger,{className:"w-32",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.SlidersHorizontal,{className:"h-4 w-4"}),(0,r.jsx)(j.SelectValue,{placeholder:"Role"})]})}),(0,r.jsxs)(j.SelectContent,{children:[(0,r.jsx)(j.SelectItem,{value:"all",children:"All Roles"}),(0,r.jsx)(j.SelectItem,{value:"user",children:"User"}),(0,r.jsx)(j.SelectItem,{value:"admin",children:"Admin"})]})]}),(0,r.jsxs)(j.Select,{value:I,onValueChange:e=>K({status:e,page:1}),children:[(0,r.jsx)(j.SelectTrigger,{className:"w-32",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.SlidersHorizontal,{className:"h-4 w-4"}),(0,r.jsx)(j.SelectValue,{placeholder:"Status"})]})}),(0,r.jsxs)(j.SelectContent,{children:[(0,r.jsx)(j.SelectItem,{value:"all",children:"All Status"}),(0,r.jsx)(j.SelectItem,{value:"active",children:"Active"}),(0,r.jsx)(j.SelectItem,{value:"blocked",children:"Blocked"})]})]})]})]}),(0,r.jsx)("div",{className:_?"opacity-60 pointer-events-none":"",children:(0,r.jsx)(u.DataTable,{columns:J,data:Q,currentPage:C,totalPages:w,onPageChange:e=>{K({page:e,search:T,role:A,status:I}),window.scrollTo({top:0,behavior:"smooth"})}})}),(0,r.jsx)(f.Dialog,{open:E.open,onOpenChange:e=>V(r=>({...r,open:e})),children:(0,r.jsxs)(f.DialogContent,{showCloseButton:!1,children:[(0,r.jsxs)(f.DialogHeader,{children:[(0,r.jsx)(f.DialogTitle,{children:"Konfirmasi Perubahan"}),(0,r.jsxs)(f.DialogDescription,{children:["Apakah Anda yakin ingin mengubah"," ","role"===E.type?"role":"status"," ",(0,r.jsx)("strong",{children:E.userName})," dari"," ",(0,r.jsx)("strong",{children:E.currentValue})," menjadi"," ",(0,r.jsx)("strong",{children:E.newValue}),"?"]})]}),(0,r.jsxs)(f.DialogFooter,{children:[(0,r.jsx)(x.Button,{variant:"outline",onClick:()=>V(e=>({...e,open:!1})),children:"Batal"}),(0,r.jsx)(x.Button,{onClick:G,children:"Ya, Ubah"})]})]})}),(0,r.jsx)(f.Dialog,{open:L.open,onOpenChange:e=>F(r=>({...r,open:e,showConfirm:!1})),children:(0,r.jsxs)(f.DialogContent,{children:[(0,r.jsxs)(f.DialogHeader,{children:[(0,r.jsx)(f.DialogTitle,{children:L.showConfirm?"Konfirmasi Perubahan":"Edit Pengguna"}),L.showConfirm&&(0,r.jsx)(f.DialogDescription,{children:"Apakah Anda yakin ingin menyimpan perubahan ini?"})]}),L.showConfirm?null:(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(v.Label,{htmlFor:"fullname",children:"Nama Lengkap"}),(0,r.jsx)(b.Input,{id:"fullname",value:L.fullname,onChange:e=>F(r=>({...r,fullname:e.target.value}))})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(v.Label,{htmlFor:"username",children:"Username"}),(0,r.jsx)(b.Input,{id:"username",value:L.username,onChange:e=>F(r=>({...r,username:e.target.value}))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(v.Label,{htmlFor:"role",children:"Role"}),(0,r.jsxs)(j.Select,{value:L.role,onValueChange:e=>F(r=>({...r,role:e})),children:[(0,r.jsx)(j.SelectTrigger,{children:(0,r.jsx)(j.SelectValue,{})}),(0,r.jsxs)(j.SelectContent,{children:[(0,r.jsx)(j.SelectItem,{value:"user",children:"User"}),(0,r.jsx)(j.SelectItem,{value:"admin",children:"Admin"})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(v.Label,{htmlFor:"status",children:"Status"}),(0,r.jsxs)(j.Select,{value:L.status,onValueChange:e=>F(r=>({...r,status:e})),children:[(0,r.jsx)(j.SelectTrigger,{children:(0,r.jsx)(j.SelectValue,{})}),(0,r.jsxs)(j.SelectContent,{children:[(0,r.jsx)(j.SelectItem,{value:"active",children:"Active"}),(0,r.jsx)(j.SelectItem,{value:"blocked",children:"Blocked"})]})]})]})]})]}),(0,r.jsxs)(f.DialogFooter,{children:[(0,r.jsx)(x.Button,{variant:"outline",onClick:()=>F(e=>({...e,open:!1,showConfirm:!1})),children:"Batal"}),(0,r.jsx)(x.Button,{onClick:Y,children:L.showConfirm?"Ya, Simpan":"Simpan"})]})]})}),(0,r.jsx)(f.Dialog,{open:z.open,onOpenChange:e=>H(r=>({...r,open:e,confirmText:""})),children:(0,r.jsxs)(f.DialogContent,{showCloseButton:!1,children:[(0,r.jsxs)(f.DialogHeader,{children:[(0,r.jsx)(f.DialogTitle,{className:"text-destructive",children:"Move to Trash"}),(0,r.jsxs)(f.DialogDescription,{children:["Are you sure you want to move"," ",(0,r.jsx)("strong",{children:z.userName})," to the trash? You can restore it later."]})]}),(0,r.jsxs)("div",{className:"grid gap-2 py-4",children:[(0,r.jsxs)(v.Label,{htmlFor:"confirmDelete",children:["Type ",(0,r.jsx)("strong",{className:"text-destructive",children:"Move to Trash"})," ","to confirm"]}),(0,r.jsx)(b.Input,{id:"confirmDelete",value:z.confirmText,onChange:e=>H(r=>({...r,confirmText:e.target.value})),placeholder:"Type 'Move to Trash' here"})]}),(0,r.jsxs)(f.DialogFooter,{children:[(0,r.jsx)(x.Button,{variant:"outline",onClick:()=>H(e=>({...e,open:!1,confirmText:""})),children:"Cancel"}),(0,r.jsx)(x.Button,{variant:"destructive",onClick:X,disabled:"Move to Trash"!==z.confirmText,children:"Move to Trash"})]})]})})]})}function D(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}e.s(["UserTable",()=>C],64629)}]);