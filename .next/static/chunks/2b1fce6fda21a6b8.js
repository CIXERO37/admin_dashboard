(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77241,34662,e=>{"use strict";let t=Symbol.for("constructDateFrom");function r(e,r){return"function"==typeof e?e(r):e&&"object"==typeof e&&t in e?e[t](r):e instanceof Date?new e.constructor(r):new Date(r)}e.s(["constructFromSymbol",0,t,"millisecondsInDay",0,864e5,"millisecondsInWeek",0,6048e5,"minutesInDay",0,1440,"minutesInMonth",0,43200],34662),e.s(["constructFrom",()=>r],77241)},45110,e=>{"use strict";var t=e.i(77241);function r(e,...a){let i=t.constructFrom.bind(null,e||a.find(e=>"object"==typeof e));return a.map(i)}e.s(["normalizeDates",()=>r])},81092,e=>{"use strict";var t=e.i(77241);function r(e,r){return(0,t.constructFrom)(r||e,e)}e.s(["toDate",()=>r])},55838,(e,t,r)=>{"use strict";var a=e.r(71645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useState,l=a.useEffect,s=a.useLayoutEffect,o=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=n({inst:{value:r,getSnapshot:t}}),i=a[0].inst,u=a[1];return s(function(){i.value=r,i.getSnapshot=t,c(i)&&u({inst:i})},[e,r,t]),l(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:u},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},51196,e=>{"use strict";var t=e.i(43476),r=e.i(47163),a=e.i(22016);function i({title:e,value:i,change:n,changeType:l="neutral",icon:s,description:o,href:c}){let u=(0,r.cn)("group relative overflow-hidden rounded-xl border border-border bg-card p-6 transition-all duration-300 hover:border-primary hover:shadow-xl hover:shadow-primary/20",c&&"cursor-pointer block"),d=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary/80 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),(0,t.jsxs)("div",{className:"relative flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:e}),(0,t.jsx)("p",{className:"text-3xl font-bold tracking-tight text-foreground",suppressHydrationWarning:!0,children:i}),n&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:(0,r.cn)("text-xs font-medium","increase"===l&&"text-[var(--success)]","decrease"===l&&"text-destructive","neutral"===l&&"text-muted-foreground"),children:n}),o&&(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:o})]})]}),(0,t.jsx)("div",{className:"rounded-lg bg-primary/10 p-3 transition-all duration-300 group-hover:bg-primary group-hover:scale-110",children:(0,t.jsx)(s,{className:"h-5 w-5 text-primary transition-colors group-hover:text-primary-foreground"})})]})]});return c?(0,t.jsx)(a.default,{href:c,className:u,children:d}):(0,t.jsx)("div",{className:u,children:d})}e.s(["StatCard",()=>i])},64476,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}function s({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}function o({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>s,"CardDescription",()=>l,"CardFooter",()=>o,"CardHeader",()=>i,"CardTitle",()=>n])},98919,e=>{"use strict";let t=(0,e.i(75254).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},37167,e=>{"use strict";var t=e.i(71645),r=e.i(15940);function a(){let[e,a]=(0,t.useState)([]),[i,n]=(0,t.useState)(!0),[l,s]=(0,t.useState)(null);return(0,t.useEffect)(()=>{let e=new AbortController,t=(0,r.getSupabaseBrowserClient)();return async function(){try{n(!0),s(null);let{data:r,error:i}=await t.from("profiles").select("*, state:states(name), city:cities(name)").order("last_active",{ascending:!1,nullsFirst:!1}).abortSignal(e.signal);if(i){if(i.message.includes("aborted")||"AbortError"===i.name)return;s(i.message),a([])}else a(r??[]);n(!1)}catch(e){if(e instanceof Error&&("AbortError"===e.name||e.message.includes("aborted")))return;s(e instanceof Error?e.message:"An error occurred"),n(!1)}}(),()=>e.abort()},[]),{data:e,loading:i,error:l,aggregates:(0,t.useMemo)(()=>({countries:[],provinces:[]}),[]),updateProfile:async(e,t)=>{let i=(0,r.getSupabaseBrowserClient)();a(r=>r.map(r=>r.id===e?{...r,...t}:r));let{error:n}=await i.from("profiles").update(t).eq("id",e);return n?(console.error("Error updating profile:",n),{error:n}):{error:null}},deleteProfile:async e=>{let t=(0,r.getSupabaseBrowserClient)();a(t=>t.filter(t=>t.id!==e));let{error:i}=await t.from("profiles").delete().eq("id",e);return i?(console.error("Error deleting profile:",i),{error:i}):{error:null}}}}e.s(["useProfiles",()=>a])},75225,e=>{"use strict";e.s(["Bar",()=>eO,"computeBarRectangles",()=>ew],75225);var t=e.i(71645),r=e.i(7670),a=e.i(97865),i=e.i(22787),n=e.i(69212),l=e.i(94395),s=e.i(81977),o=e.i(79812),c=e.i(73393);e.i(47167);var u=e.i(18519),d=["x","y"];function f(){return(f=Object.assign.bind()).apply(null,arguments)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){var{x:r,y:a}=e,i=function(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,d),n=parseInt("".concat(r),10),l=parseInt("".concat(a),10),s=parseInt("".concat(t.height||i.height),10),o=parseInt("".concat(t.width||i.width),10);return p(p(p(p(p({},t),i),n?{x:n}:{}),l?{y:l}:{}),{},{height:s,width:o,name:t.name,radius:t.radius})}function x(e){return t.createElement(u.Shape,f({shapeType:"rectangle",propTransformer:h,activeClassName:"recharts-active-bar"},e))}var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,a)=>{if((0,l.isNumber)(e))return e;var i=(0,l.isNumber)(r)||(0,l.isNullish)(r);return i?e(r,a):(i||function(e,t){if(!e)throw Error("Invariant failed")}(!1,"minPointSize callback function received a value with type of ".concat(typeof r,". Currently only numbers or null/undefined are supported.")),t)}},y=e.i(94585),g=e.i(844);e.i(42696);var b=e.i(27241),j=e.i(15549),S=["children"],C=(0,t.createContext)({data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0});function w(e){var{children:r}=e,a=function(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,S);return t.createElement(C.Provider,{value:a},r)}var O=e.i(59798),I=e.i(46710),P=e.i(61849),A=e.i(61764),k=e.i(92860),E=e.i(41088),N=e.i(77320),z=e.i(22075),B=e.i(91526),T=e.i(10439);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var M=(0,P.createSelector)([A.selectUnfilteredCartesianItems,(e,t,r,a,i)=>i],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),K=(0,P.createSelector)([M],e=>null==e?void 0:e.maxBarSize),F=(e,t,r)=>{var a=null!=r?r:e;if(!(0,l.isNullish)(a))return(0,l.getPercentValue)(a,t,0)},W=(0,P.createSelector)([I.selectChartLayout,A.selectUnfilteredCartesianItems,(e,t)=>t,(e,t,r)=>r,(e,t,r,a)=>a],(e,t,r,a,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===a).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),G=(0,P.createSelector)([W,N.selectRootBarSize,(e,t,r)=>"horizontal"===(0,I.selectChartLayout)(e)?(0,A.selectCartesianAxisSize)(e,"xAxis",t):(0,A.selectCartesianAxisSize)(e,"yAxis",r)],(e,t,r)=>{var a=e.filter(T.isStacked),i=e.filter(e=>null==e.stackId);return[...Object.entries(a.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{})).map(e=>{var[a,i]=e;return{stackId:a,dataKeys:i.map(e=>e.dataKey),barSize:F(t,r,i[0].barSize)}}),...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:F(t,r,e.barSize)}))]}),V=(e,t,r,a)=>{var i,n;return"horizontal"===(0,I.selectChartLayout)(e)?(i=(0,A.selectAxisWithScale)(e,"xAxis",t,a),n=(0,A.selectTicksOfGraphicalItem)(e,"xAxis",t,a)):(i=(0,A.selectAxisWithScale)(e,"yAxis",r,a),n=(0,A.selectTicksOfGraphicalItem)(e,"yAxis",r,a)),(0,o.getBandSizeOfAxis)(i,n)},R=(0,P.createSelector)([G,N.selectRootMaxBarSize,N.selectBarGap,N.selectBarCategoryGap,(e,t,r,a,i)=>{var n,s,c,u,d=M(e,t,r,a,i);if(null!=d){var f=(0,I.selectChartLayout)(e),m=(0,N.selectRootMaxBarSize)(e),{maxBarSize:p}=d,h=(0,l.isNullish)(p)?m:p;return"horizontal"===f?(c=(0,A.selectAxisWithScale)(e,"xAxis",t,a),u=(0,A.selectTicksOfGraphicalItem)(e,"xAxis",t,a)):(c=(0,A.selectAxisWithScale)(e,"yAxis",r,a),u=(0,A.selectTicksOfGraphicalItem)(e,"yAxis",r,a)),null!=(n=null!=(s=(0,o.getBandSizeOfAxis)(c,u,!0))?s:h)?n:0}},V,K],(e,t,r,a,i,n,s)=>{var o=function(e,t,r,a,i){var n,s=a.length;if(!(s<1)){var o=(0,l.getPercentValue)(e,r,0,!0),c=[];if((0,z.isWellBehavedNumber)(a[0].barSize)){var u=!1,d=r/s,f=a.reduce((e,t)=>e+(t.barSize||0),0);(f+=(s-1)*o)>=r&&(f-=(s-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var m={offset:((r-f)/2|0)-o,size:0};n=a.reduce((e,t)=>{var r,a=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:null!=(r=t.barSize)?r:0}}];return m=a[a.length-1].position,a},c)}else{var p=(0,l.getPercentValue)(t,r,0,!0);r-2*p-(s-1)*o<=0&&(o=0);var h=(r-2*p-(s-1)*o)/s;h>1&&(h>>=0);var x=(0,z.isWellBehavedNumber)(i)?Math.min(h,i):h;n=a.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:p+(h+o)*r+(h-x)/2,size:x}}],c)}return n}}(r,a,i!==n?i:n,e,(0,l.isNullish)(s)?t:s);return i!==n&&null!=o&&(o=o.map(e=>L(L({},e),{},{position:L(L({},e.position),{},{offset:e.position.offset-i/2})}))),o}),U=(0,P.createSelector)([R,M],(e,t)=>{if(null!=e&&null!=t){var r=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),H=(0,P.createSelector)([(e,t,r,a)=>"horizontal"===(0,I.selectChartLayout)(e)?(0,A.selectStackGroups)(e,"yAxis",r,a):(0,A.selectStackGroups)(e,"xAxis",t,a),M],(e,t)=>{var r=(0,B.getStackSeriesIdentifier)(t);if(!e||null==r||null==t)return;var{stackId:a}=t;if(null!=a){var i=e[a];if(i){var{stackedData:n}=i;if(n)return n.find(e=>e.key===r)}}}),Y=(0,P.createSelector)([E.selectChartOffsetInternal,E.selectAxisViewBox,(e,t,r,a)=>(0,A.selectAxisWithScale)(e,"xAxis",t,a),(e,t,r,a)=>(0,A.selectAxisWithScale)(e,"yAxis",r,a),(e,t,r,a)=>(0,A.selectTicksOfGraphicalItem)(e,"xAxis",t,a),(e,t,r,a)=>(0,A.selectTicksOfGraphicalItem)(e,"yAxis",r,a),U,I.selectChartLayout,k.selectChartDataWithIndexesIfNotInPanorama,V,H,M,(e,t,r,a,i,n)=>n],(e,t,r,a,i,n,l,s,o,c,u,d,f)=>{var m,{chartData:p,dataStartIndex:h,dataEndIndex:x}=o;if(null!=d&&null!=l&&null!=t&&("horizontal"===s||"vertical"===s)&&null!=r&&null!=a&&null!=i&&null!=n&&null!=c){var{data:v}=d;if(null!=(m=null!=v&&v.length>0?v:null==p?void 0:p.slice(h,x+1)))return ew({layout:s,barSettings:d,pos:l,parentViewBox:t,bandSize:c,xAxis:r,yAxis:a,xAxisTicks:i,yAxisTicks:n,stackedData:u,displayedData:m,offset:e,cells:f,dataStartIndex:h})}}),q=e.i(75337),_=e.i(76735),Z=e.i(95146),$=e.i(40657),X=e.i(51883),J=e.i(91187),Q=e.i(57999),ee=e.i(66576),et=e.i(29601),er=e.i(18457),ea=e.i(20135),ei=["onMouseEnter","onMouseLeave","onClick"],en=["value","background","tooltipPosition"],el=["id"],es=["onMouseEnter","onClick","onMouseLeave"];function eo(){return(eo=Object.assign.bind()).apply(null,arguments)}function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach(function(t){var a,i,n;a=e,i=t,n=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ed(e,t){if(null==e)return{};var r,a,i=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ef=t.memo(e=>{var{dataKey:r,stroke:a,strokeWidth:i,fill:n,name:l,hide:s,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:i,fill:n,dataKey:r,nameKey:void 0,name:(0,o.getTooltipNameProp)(l,r),hide:s,type:u,color:n,unit:c}};return t.createElement(g.SetTooltipEntrySettings,{tooltipEntrySettings:d})});function em(e){var r,a=(0,b.useAppSelector)(_.selectActiveTooltipIndex),{data:i,dataKey:n,background:l,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:u,onClick:d}=s,f=ed(s,ei),m=(0,y.useMouseEnterItemDispatch)(o,n),p=(0,y.useMouseLeaveItemDispatch)(u),h=(0,y.useMouseClickItemDispatch)(d,n);if(!l||null==i)return null;var v=(0,Q.svgPropertiesNoEventsFromUnknown)(l);return t.createElement(et.ZIndexLayer,{zIndex:(r=er.DefaultZIndexes.barBackground,l&&"object"==typeof l&&"zIndex"in l&&"number"==typeof l.zIndex&&(0,z.isWellBehavedNumber)(l.zIndex)?l.zIndex:r)},i.map((e,r)=>{var{value:i,background:s,tooltipPosition:o}=e,u=ed(e,en);if(!s)return null;var d=m(e,r),y=p(e,r),g=h(e,r),b=eu(eu(eu(eu(eu({option:l,isActive:String(r)===a},u),{},{fill:"#eee"},s),v),(0,c.adaptEventsOfChild)(f,e,r)),{},{onMouseEnter:d,onMouseLeave:y,onClick:g,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return t.createElement(x,eo({key:"background-bar-".concat(r)},b))}))}function ep(e){var{showLabels:r,children:a,rects:i}=e,l=null==i?void 0:i.map(e=>{var t={x:e.x,y:e.y,width:e.width,lowerWidth:e.width,upperWidth:e.width,height:e.height};return eu(eu({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return t.createElement(n.CartesianLabelListContextProvider,{value:r?l:void 0},a)}function eh(e){var{shape:r,activeBar:a,baseProps:i,entry:n,index:l,dataKey:s}=e,o=(0,b.useAppSelector)(_.selectActiveTooltipIndex),c=(0,b.useAppSelector)(_.selectActiveTooltipDataKey),u=a&&String(l)===o&&(null==c||s===c),d=u?a:r;return u?t.createElement(et.ZIndexLayer,{zIndex:er.DefaultZIndexes.activeBar},t.createElement(x,eo({},i,{name:String(i.name)},n,{isActive:u,option:d,index:l,dataKey:s}))):t.createElement(x,eo({},i,{name:String(i.name)},n,{isActive:u,option:d,index:l,dataKey:s}))}function ex(e){var{shape:r,baseProps:a,entry:i,index:n,dataKey:l}=e;return t.createElement(x,eo({},a,{name:String(a.name)},i,{isActive:!1,option:r,index:n,dataKey:l}))}function ev(e){var r,{data:i,props:n}=e,l=null!=(r=(0,Q.svgPropertiesNoEvents)(n))?r:{},{id:s}=l,o=ed(l,el),{shape:u,dataKey:d,activeBar:f}=n,{onMouseEnter:m,onClick:p,onMouseLeave:h}=n,x=ed(n,es),v=(0,y.useMouseEnterItemDispatch)(m,d),g=(0,y.useMouseLeaveItemDispatch)(h),b=(0,y.useMouseClickItemDispatch)(p,d);return i?t.createElement(t.Fragment,null,i.map((e,r)=>t.createElement(a.Layer,eo({key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(r),className:"recharts-bar-rectangle"},(0,c.adaptEventsOfChild)(x,e,r),{onMouseEnter:v(e,r),onMouseLeave:g(e,r),onClick:b(e,r)}),f?t.createElement(eh,{shape:u,activeBar:f,baseProps:o,entry:e,index:r,dataKey:d}):t.createElement(ex,{shape:u,baseProps:o,entry:e,index:r,dataKey:d})))):null}function ey(e){var{props:r,previousRectanglesRef:i}=e,{data:s,layout:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:p}=r,h=i.current,x=(0,$.useAnimationId)(r,"recharts-bar-"),[v,y]=(0,t.useState)(!1),g=(0,t.useCallback)(()=>{"function"==typeof m&&m(),y(!1)},[m]),b=(0,t.useCallback)(()=>{"function"==typeof p&&p(),y(!0)},[p]);return t.createElement(ep,{showLabels:!v,rects:s},t.createElement(ee.JavascriptAnimate,{animationId:x,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:g,onAnimationStart:b,key:x},e=>{var n=1===e?s:null==s?void 0:s.map((t,r)=>{var a=h&&h[r];if(a)return eu(eu({},t),{},{x:(0,l.interpolate)(a.x,t.x,e),y:(0,l.interpolate)(a.y,t.y,e),width:(0,l.interpolate)(a.width,t.width,e),height:(0,l.interpolate)(a.height,t.height,e)});if("horizontal"===o){var i=(0,l.interpolate)(0,t.height,e),n=(0,l.interpolate)(t.stackedBarStart,t.y,e);return eu(eu({},t),{},{y:n,height:i})}var s=(0,l.interpolate)(0,t.width,e),c=(0,l.interpolate)(t.stackedBarStart,t.x,e);return eu(eu({},t),{},{width:s,x:c})});return(e>0&&(i.current=null!=n?n:null),null==n)?null:t.createElement(a.Layer,null,t.createElement(ev,{props:r,data:n}))}),t.createElement(n.LabelListFromLabelProp,{label:r.label}),r.children)}function eg(e){var r=(0,t.useRef)(null);return t.createElement(ey,{previousRectanglesRef:r,props:e})}var eb=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:(0,o.getValueByDataKey)(e,t)}};class ej extends t.PureComponent{render(){var{hide:e,data:i,dataKey:n,className:l,xAxisId:s,yAxisId:o,needClip:c,background:u,id:d}=this.props;if(e||null==i)return null;var f=(0,r.clsx)("recharts-bar",l);return t.createElement(a.Layer,{className:f,id:d},c&&t.createElement("defs",null,t.createElement(O.GraphicalItemClipPath,{clipPathId:d,xAxisId:s,yAxisId:o})),t.createElement(a.Layer,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(d,")"):void 0},t.createElement(em,{data:i,dataKey:n,background:u,allOtherBarProps:this.props}),t.createElement(eg,this.props)))}}var eS={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0,zIndex:er.DefaultZIndexes.bar};function eC(e){var r,{xAxisId:a,yAxisId:n,hide:l,legendType:o,minPointSize:c,activeBar:u,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:p}=e,{needClip:h}=(0,O.useNeedsClip)(a,n),x=(0,I.useChartLayout)(),v=(0,q.useIsPanorama)(),y=(0,s.findAllByType)(e.children,i.Cell),g=(0,b.useAppSelector)(t=>Y(t,a,n,v,e.id,y));if("vertical"!==x&&"horizontal"!==x)return null;var j=null==g?void 0:g[0];return r=null==j||null==j.height||null==j.width?0:"vertical"===x?j.height/2:j.width/2,t.createElement(w,{xAxisId:a,yAxisId:n,data:g,dataPointFormatter:eb,errorBarOffset:r},t.createElement(ej,eo({},e,{layout:x,needClip:h,data:g,xAxisId:a,yAxisId:n,hide:l,legendType:o,minPointSize:c,activeBar:u,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:p})))}function ew(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:i,bandSize:n,xAxis:s,yAxis:c,xAxisTicks:u,yAxisTicks:d,stackedData:f,displayedData:m,offset:p,cells:h,parentViewBox:x,dataStartIndex:y}=e,g="horizontal"===t?c:s,b=f?g.scale.domain():null,j=(0,o.getBaseValueOfBar)({numericAxis:g}),S=g.scale(j);return m.map((e,m)=>{f?C=(0,o.truncateByDomain)(f[m+y],b):Array.isArray(C=(0,o.getValueByDataKey)(e,r))||(C=[j,C]);var g=v(a,0)(C[1],m);if("horizontal"===t){var C,w,O,I,P,A,k,[E,N]=[c.scale(C[0]),c.scale(C[1])];w=(0,o.getCateCoordinateOfBar)({axis:s,ticks:u,bandSize:n,offset:i.offset,entry:e,index:m}),O=null!=(k=null!=N?N:E)?k:void 0,I=i.size;var z=E-N;if(P=(0,l.isNan)(z)?0:z,A={x:w,y:p.top,width:I,height:p.height},Math.abs(g)>0&&Math.abs(P)<Math.abs(g)){var B=(0,l.mathSign)(P||g)*(Math.abs(g)-Math.abs(P));O-=B,P+=B}}else{var[T,D]=[s.scale(C[0]),s.scale(C[1])];if(w=T,O=(0,o.getCateCoordinateOfBar)({axis:c,ticks:d,bandSize:n,offset:i.offset,entry:e,index:m}),I=D-T,P=i.size,A={x:p.left,y:O,width:p.width,height:P},Math.abs(g)>0&&Math.abs(I)<Math.abs(g)){var L=(0,l.mathSign)(I||g)*(Math.abs(g)-Math.abs(I));I+=L}}return null==w||null==O||null==I||null==P?null:eu(eu({},e),{},{stackedBarStart:S,x:w,y:O,width:I,height:P,value:f?C:C[1],payload:e,background:A,tooltipPosition:{x:w+I/2,y:O+P/2},parentViewBox:x},h&&h[m]&&h[m].props)}).filter(Boolean)}var eO=t.memo(function(e){var r=(0,X.resolveDefaultProps)(e,eS),a=(0,q.useIsPanorama)();return t.createElement(j.RegisterGraphicalItemId,{id:r.id,type:"bar"},e=>t.createElement(t.Fragment,null,t.createElement(Z.SetLegendPayload,{legendPayload:(e=>{var{dataKey:t,name:r,fill:a,legendType:i,hide:n}=e;return[{inactive:n,dataKey:t,type:i,color:a,value:(0,o.getTooltipNameProp)(r,t),payload:e}]})(r)}),t.createElement(ef,{dataKey:r.dataKey,stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,name:r.name,hide:r.hide,unit:r.unit,tooltipType:r.tooltipType}),t.createElement(J.SetCartesianGraphicalItem,{type:"bar",id:e,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:(0,o.getNormalizedStackId)(r.stackId),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:a}),t.createElement(et.ZIndexLayer,{zIndex:r.zIndex},t.createElement(eC,eo({},r,{id:e})))))},ea.propsAreEqual);eO.displayName="Bar"},9694,e=>{"use strict";var t=e.i(71645),r=e.i(25949),a=e.i(33369),i=["axis","item"],n=(0,t.forwardRef)((e,n)=>t.createElement(a.CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:i,tooltipPayloadSearcher:r.arrayTooltipSearcher,categoricalChartProps:e,ref:n}));e.s(["BarChart",()=>n])},47490,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(62870),i=e.i(51196),n=e.i(64476),l=e.i(75225),s=e.i(9694),o=e.i(72526),c=e.i(85183),u=e.i(93230),d=e.i(73921),f=e.i(45110);function m(e,t,r){let[a,i]=(0,f.normalizeDates)(r?.in,e,t);return a.getFullYear()===i.getFullYear()}var p=e.i(77241),h=e.i(81092);let x={count:{label:"Users",color:"var(--chart-1)"}},v=(e,t)=>{var r;if(!e)return[];if("all"===t)return e;let a=new Date,i=(r=0,function(e,t,r){let a=(0,h.toDate)(e,r?.in);if(isNaN(-12))return(0,p.constructFrom)(r?.in||e,NaN);0;let i=a.getDate(),n=(0,p.constructFrom)(r?.in||e,a.getTime());return(n.setMonth(a.getMonth()+-12+1,0),i>=n.getDate())?n:(a.setFullYear(n.getFullYear(),n.getMonth(),i),a)}(a,-12,void 0));return e.filter(e=>{if(!e.created_at)return!1;let r=new Date(e.created_at);return"this-year"===t?m(r,a):"last-year"!==t||m(r,i)})};function y({profiles:e,loading:a,timeRange:i}){let f=(0,r.useMemo)(()=>v(e,i),[e,i]),m=(0,r.useMemo)(()=>v(e,i),[e,i]),p={};f&&f.forEach(e=>{if(e.state?.name){let t=e.state.name;p[t]=(p[t]||0)+1}});let h={};m&&m.forEach(e=>{if(e.city?.name){let t=e.city.name;h[t]=(h[t]||0)+1}});let y=Object.entries(p).map(([e,t])=>({name:e,count:t})).sort((e,t)=>t.count-e.count).slice(0,5),g=Object.entries(h).map(([e,t])=>({name:e,count:t})).sort((e,t)=>t.count-e.count).slice(0,5);return a?(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsx)(n.Card,{className:"h-[400px] animate-pulse bg-muted/20"}),(0,t.jsx)(n.Card,{className:"h-[400px] animate-pulse bg-muted/20"})]}):(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,t.jsx)(n.CardTitle,{children:"Top States"})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)(d.ChartContainer,{config:x,className:"aspect-auto h-[250px] w-full",children:(0,t.jsxs)(s.BarChart,{accessibilityLayer:!0,data:y,layout:"vertical",margin:{top:0,right:30,left:0,bottom:0},children:[(0,t.jsx)(o.CartesianGrid,{horizontal:!1}),(0,t.jsx)(u.YAxis,{dataKey:"name",type:"category",tickLine:!1,tickMargin:10,axisLine:!1,width:120,tickFormatter:e=>e.length>20?`${e.slice(0,20)}...`:e}),(0,t.jsx)(c.XAxis,{dataKey:"count",type:"number",hide:!0}),(0,t.jsx)(d.ChartTooltip,{cursor:!1,content:(0,t.jsx)(d.ChartTooltipContent,{hideLabel:!0})}),(0,t.jsx)(l.Bar,{dataKey:"count",fill:"var(--color-count)",radius:[0,4,4,0],barSize:20})]})})})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,t.jsx)(n.CardTitle,{children:"Top Cities"})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)(d.ChartContainer,{config:x,className:"aspect-auto h-[250px] w-full",children:(0,t.jsxs)(s.BarChart,{accessibilityLayer:!0,data:g,layout:"vertical",margin:{top:0,right:30,left:0,bottom:0},children:[(0,t.jsx)(o.CartesianGrid,{horizontal:!1}),(0,t.jsx)(u.YAxis,{dataKey:"name",type:"category",tickLine:!1,tickMargin:10,axisLine:!1,width:120,tickFormatter:e=>e.length>20?`${e.slice(0,20)}...`:e}),(0,t.jsx)(c.XAxis,{dataKey:"count",type:"number",hide:!0}),(0,t.jsx)(d.ChartTooltip,{cursor:!1,content:(0,t.jsx)(d.ChartTooltipContent,{hideLabel:!0})}),(0,t.jsx)(l.Bar,{dataKey:"count",fill:"var(--color-count)",radius:[0,4,4,0],barSize:20})]})})})]})]})}var g=e.i(22787),b=e.i(38814),j=e.i(41891);let S={male:{label:"Male",color:"var(--chart-1)"},female:{label:"Female",color:"var(--chart-2)"},other:{label:"Other",color:"var(--chart-3)"}},C={count:{label:"Students"},"grade-1":{label:"1",color:"var(--chart-1)"},"grade-2":{label:"2",color:"var(--chart-2)"},"grade-3":{label:"3",color:"var(--chart-3)"},"grade-4":{label:"4",color:"var(--chart-4)"},"grade-5":{label:"5",color:"var(--chart-5)"}},w=["var(--chart-1)","var(--chart-2)","var(--chart-3)","var(--chart-4)","var(--chart-5)"];function O({profiles:e,loading:r}){if(r)return(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsx)(n.Card,{className:"h-[300px] animate-pulse bg-muted/20"}),(0,t.jsx)(n.Card,{className:"h-[300px] animate-pulse bg-muted/20"})]});let a={},i={};e&&e.forEach(e=>{let t=e.gender||"Unknown";a[t]=(a[t]||0)+1;let r=e.grade||"Unknown";i[r]=(i[r]||0)+1});let l=Object.entries(a).map(([e,t],r)=>({name:e.charAt(0).toUpperCase()+e.slice(1),value:t,fill:w[r%w.length]})),s=Object.entries(i).map(([e,t],r)=>({name:e.charAt(0).toUpperCase()+e.slice(1),value:t,fill:w[r%w.length]}));return(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)(n.CardTitle,{children:"Gender"})}),(0,t.jsxs)(n.CardContent,{children:[(0,t.jsx)(d.ChartContainer,{config:S,className:"mx-auto aspect-square max-h-[250px] w-full",children:(0,t.jsxs)(j.PieChart,{children:[(0,t.jsx)(d.ChartTooltip,{cursor:!1,content:(0,t.jsx)(d.ChartTooltipContent,{hideLabel:!0,nameKey:"name"})}),(0,t.jsx)(b.Pie,{data:l,dataKey:"value",nameKey:"name",innerRadius:60,strokeWidth:5,children:l.map((e,r)=>(0,t.jsx)(g.Cell,{fill:e.fill},`cell-${r}`))})]})}),(0,t.jsx)("div",{className:"mt-4 flex flex-wrap justify-center gap-4",children:l.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:e.fill}}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.name})]},r))})]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)(n.CardTitle,{children:"Grade"})}),(0,t.jsxs)(n.CardContent,{children:[(0,t.jsx)(d.ChartContainer,{config:C,className:"mx-auto aspect-square max-h-[250px] w-full",children:(0,t.jsxs)(j.PieChart,{children:[(0,t.jsx)(d.ChartTooltip,{cursor:!1,content:(0,t.jsx)(d.ChartTooltipContent,{hideLabel:!0,nameKey:"name"})}),(0,t.jsx)(b.Pie,{data:s,dataKey:"value",nameKey:"name",innerRadius:60,strokeWidth:5,children:s.map((e,r)=>(0,t.jsx)(g.Cell,{fill:e.fill},`cell-${r}`))})]})}),(0,t.jsx)("div",{className:"mt-4 flex flex-wrap justify-center gap-4",children:s.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:e.fill}}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.name})]},r))})]})]})]})}var I=e.i(37167),P=e.i(61911),A=e.i(98919),k=e.i(75254);let E=(0,k.default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),N=(0,k.default)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);function z(){let[e,n]=(0,r.useState)("all"),{data:l,loading:s}=(0,I.useProfiles)(),o=l.filter(e=>!e.role||"user"===e.role.toLowerCase()).length,c=l.filter(e=>e.role?.toLowerCase()==="admin").length,u=l.filter(e=>!e.is_blocked).length,d=l.filter(e=>e.is_blocked).length;return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Administrator Dashboard"}),(0,t.jsxs)(a.Select,{value:e,onValueChange:n,children:[(0,t.jsx)(a.SelectTrigger,{className:"w-[130px] rounded-lg","aria-label":"Select a value",children:(0,t.jsx)(a.SelectValue,{placeholder:"All Time"})}),(0,t.jsxs)(a.SelectContent,{className:"rounded-xl",children:[(0,t.jsx)(a.SelectItem,{value:"all",className:"rounded-lg",children:"All Time"}),(0,t.jsx)(a.SelectItem,{value:"this-year",className:"rounded-lg",children:"This Year"}),(0,t.jsx)(a.SelectItem,{value:"last-year",className:"rounded-lg",children:"Last Year"})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsx)(i.StatCard,{title:"User",value:s?0:o,icon:P.Users,href:"/users?role=user"}),(0,t.jsx)(i.StatCard,{title:"Admin",value:s?0:c,icon:A.Shield,href:"/users?role=admin"}),(0,t.jsx)(i.StatCard,{title:"Active",value:s?0:u,icon:E,href:"/users?status=active"}),(0,t.jsx)(i.StatCard,{title:"Blocked",value:s?0:d,icon:N,href:"/users?status=blocked"})]}),(0,t.jsx)(y,{profiles:l,loading:s,timeRange:e}),(0,t.jsx)(O,{profiles:l,loading:s})]})}e.s(["default",()=>z],47490)}]);