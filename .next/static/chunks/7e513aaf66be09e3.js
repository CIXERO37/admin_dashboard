(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,54943,e=>{"use strict";let r=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["default",()=>r],54943),e.s(["Search",()=>r],55436)},5629,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(47163);function n({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...t})})}function s({className:e,...t}){return(0,r.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...t})}function i({className:e,...t}){return(0,r.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...t})}function l({className:e,...t}){return(0,r.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function o({className:e,...t}){return(0,r.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function c({className:e,...t}){return(0,r.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}var d=e.i(94179),u=e.i(55436);function x({columns:e,data:d,className:x,currentPage:m=1,totalPages:b=1,onPageChange:h,onRowClick:g}){let p=b>1&&h,[v,f]=(0,t.useState)(null),[y,j]=(0,t.useState)(""),k=e=>{e.preventDefault();let r=parseInt(y,10);r>=1&&r<=b&&h&&h(r),f(null),j("")};return(0,r.jsxs)("div",{className:(0,a.cn)("rounded-xl border border-border bg-card overflow-hidden",x),children:[(0,r.jsxs)(n,{children:[(0,r.jsx)(s,{children:(0,r.jsx)(l,{className:"border-border bg-secondary/50 hover:bg-secondary/50",children:e.map(e=>(0,r.jsx)(o,{className:"text-muted-foreground font-medium",children:e.label},e.key))})}),(0,r.jsx)(i,{children:0===d.length?(0,r.jsx)(l,{children:(0,r.jsx)(c,{colSpan:e.length,className:"text-center py-8 text-muted-foreground",children:"No data available"})}):d.map((t,n)=>(0,r.jsx)(l,{className:(0,a.cn)("border-border transition-colors hover:bg-secondary/60",g&&"cursor-pointer"),onClick:()=>g?.(t),children:e.map(e=>(0,r.jsx)(c,{className:"text-foreground",children:e.render?e.render(t[e.key],t):t[e.key]},e.key))},n))})]}),p&&(0,r.jsxs)("div",{className:"flex items-center justify-between border-t border-border bg-secondary/30 px-6 py-4",children:[(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page"," ",(0,r.jsx)("span",{className:"font-medium text-foreground",children:m})," ","of ",(0,r.jsx)("span",{className:"font-medium text-foreground",children:b})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>h(m-1),disabled:1===m,className:(0,a.cn)("px-3 py-1.5 text-sm font-medium rounded-lg border transition-colors",1===m?"border-border bg-secondary/50 text-muted-foreground cursor-not-allowed":"border-border bg-card text-foreground hover:bg-secondary/80 cursor-pointer"),children:"Previous"}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:(()=>{let e=[];if(b<=7)for(let r=1;r<=b;r++)e.push(r);else e.push(1),m<=3?e.push(2,3,4,"...",b):m>=b-2?e.push("...",b-3,b-2,b-1,b):e.push("...",m-1,m,m+1,"...",b);return e.map((e,t)=>{if("..."===e){let e=`ellipsis-${t}`;return v===e?(0,r.jsxs)("form",{onSubmit:k,className:"relative",children:[(0,r.jsx)(u.Search,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground pointer-events-none"}),(0,r.jsx)("input",{type:"number",min:1,max:b,value:y,onChange:e=>j(e.target.value),onBlur:()=>{f(null),j("")},autoFocus:!0,className:"w-14 h-9 pl-6 pr-1 text-sm text-center font-medium rounded-lg border border-primary bg-card text-foreground focus:outline-none focus:ring-1 focus:ring-primary [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]},e):(0,r.jsx)("button",{onClick:()=>f(e),className:"w-9 h-9 flex items-center justify-center text-sm text-muted-foreground hover:text-foreground hover:bg-secondary/80 rounded-lg border border-transparent hover:border-border transition-colors cursor-pointer",title:"Click to jump to page",children:"..."},e)}return(0,r.jsx)("button",{onClick:()=>h(e),className:(0,a.cn)("w-9 h-9 text-sm font-medium rounded-lg border transition-colors cursor-pointer",m===e?"border-primary bg-primary text-primary-foreground":"border-border bg-card text-foreground hover:bg-secondary/80"),children:e},e)})})()}),(0,r.jsx)("button",{onClick:()=>h(m+1),disabled:m===b,className:(0,a.cn)("px-3 py-1.5 text-sm font-medium rounded-lg border transition-colors",m===b?"border-border bg-secondary/50 text-muted-foreground cursor-not-allowed":"border-border bg-card text-foreground hover:bg-secondary/80 cursor-pointer"),children:"Next"})]})]})]})}function m({status:e}){let t={Active:"bg-[var(--success)]/20 text-[var(--success)] border-[var(--success)]/30",Pending:"bg-[var(--warning)]/20 text-[var(--warning)] border-[var(--warning)]/30","In Progress":"bg-primary/20 text-primary border-primary/30",Resolved:"bg-[var(--success)]/20 text-[var(--success)] border-[var(--success)]/30","Under Review":"bg-[var(--warning)]/20 text-[var(--warning)] border-[var(--warning)]/30",Hidden:"bg-muted text-muted-foreground border-border",Inactive:"bg-muted text-muted-foreground border-border",Blocked:"bg-destructive/20 text-destructive border-destructive/30",Draft:"bg-secondary text-secondary-foreground border-border"};return(0,r.jsx)(d.Badge,{variant:"outline",className:(0,a.cn)("font-medium",t[e]||t.Inactive),children:e})}function b({priority:e}){return(0,r.jsx)(d.Badge,{variant:"outline",className:(0,a.cn)("font-medium",{High:"bg-destructive/20 text-destructive border-destructive/30",Medium:"bg-[var(--warning)]/20 text-[var(--warning)] border-[var(--warning)]/30",Low:"bg-[var(--success)]/20 text-[var(--success)] border-[var(--success)]/30"}[e]||""),children:e})}e.s(["DataTable",()=>x,"PriorityBadge",()=>b,"StatusBadge",()=>m],5629)},49582,e=>{"use strict";let r=(0,e.i(75254).default)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);e.s(["SlidersHorizontal",()=>r],49582)},8287,e=>{"use strict";var r=e.i(43476),t=e.i(55436),a=e.i(49582),n=e.i(64659),s=e.i(1851),i=e.i(71645),l=e.i(18566),o=e.i(22016),c=e.i(5629),d=e.i(67881),u=e.i(94179),x=e.i(23750),m=e.i(62870),b=e.i(63415),h=e.i(30374),g=e.i(74117),p=e.i(10708),v=e.i(95187),f=(0,v.createServerReference)("605473f1748b9fc6e92c764a8613a2c822875d4393",v.callServer,void 0,v.findSourceMapURL,"updateQuizVisibility"),y=(0,v.createServerReference)("408b0259b9349dd9410e93765a8acb1e4ced2170d5",v.callServer,void 0,v.findSourceMapURL,"blockQuizAction");let j={Publik:"bg-[var(--success)]/20 text-[var(--success)] border-[var(--success)]/30",Private:"bg-[var(--warning)]/20 text-[var(--warning)] border-[var(--warning)]/30"},k={Active:"bg-blue-500/20 text-blue-500 border-blue-500/30",Block:"bg-red-500/20 text-red-500 border-red-500/30"};function w({initialData:e,totalPages:v,currentPage:w,categories:S,searchQuery:C,categoryFilter:D,visibilityFilter:B}){let T=(0,l.useRouter)(),P=(0,l.useSearchParams)(),[z,q]=(0,i.useTransition)(),{toast:A}=(0,g.useToast)(),[I,M]=(0,i.useState)(C),[V,R]=(0,i.useState)({open:!1,id:"",currentValue:"",newValue:"",quizTitle:""}),[Q,U]=(0,i.useState)({open:!1,id:"",quizTitle:"",confirmText:""}),H=e=>{let r=new URLSearchParams(P.toString());Object.entries(e).forEach(([e,t])=>{t&&"all"!==t&&""!==t?r.set(e,String(t)):r.delete(e)}),q(()=>{T.push(`?${r.toString()}`)})},L=()=>{H({search:I,page:1})},K=(e,r,t,a)=>{R({open:!0,id:e,currentValue:r,newValue:t,quizTitle:a})},O=async()=>{let{error:e}=await f(V.id,"Publik"===V.newValue);e?A({title:"Error",description:"Gagal mengubah visibility",variant:"destructive"}):(A({title:"Berhasil",description:"Visibility berhasil diubah"}),T.refresh()),R(e=>({...e,open:!1}))},_=async()=>{if("Block"!==Q.confirmText)return;let{error:e}=await y(Q.id);e?A({title:"Error",description:"Gagal memblokir quiz",variant:"destructive"}):(A({title:"Berhasil",description:"Quiz berhasil diblokir"}),T.refresh()),U(e=>({...e,open:!1,confirmText:""}))},E=[{key:"title",label:"Title",render:e=>(0,r.jsx)("span",{className:"block max-w-[200px] truncate",title:e,children:e})},{key:"creator",label:"Creator",render:(e,t)=>e?(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)(o.default,{href:`/users/${e.id}`,className:"flex flex-col min-w-0 hover:underline",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("span",{className:"text-sm font-medium truncate max-w-[120px]",title:e.fullname,children:e.fullname}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground truncate max-w-[120px]",title:e.username,children:["@",e.username]})]})}):(0,r.jsx)("span",{className:"text-muted-foreground",children:"-"})},{key:"category",label:"Category",render:e=>{let t=N(e);return(0,r.jsx)("span",{className:"block max-w-[120px] truncate",title:t,children:t})}},{key:"questions",label:"Questions"},{key:"language",label:"Language",render:e=>N(e)},{key:"difficulty",label:"Visibility",render:(e,t)=>{let a=t.id,s=t.title;return(0,r.jsxs)(b.DropdownMenu,{children:[(0,r.jsx)(b.DropdownMenuTrigger,{className:"focus:outline-none",children:(0,r.jsxs)("div",{className:"cursor-pointer hover:opacity-80 flex items-center",children:[(0,r.jsx)(u.Badge,{variant:"outline",className:j[e]??"bg-secondary text-secondary-foreground",children:e}),(0,r.jsx)(n.ChevronDown,{className:"ml-1.5 h-3 w-3 text-muted-foreground/50"})]})}),(0,r.jsx)(b.DropdownMenuContent,{align:"start",children:"Publik"===e?(0,r.jsx)(b.DropdownMenuItem,{onClick:()=>K(a,e,"Private",s),className:"cursor-pointer",children:"Private"}):(0,r.jsx)(b.DropdownMenuItem,{onClick:()=>K(a,e,"Publik",s),className:"cursor-pointer",children:"Publik"})})]})}},{key:"createdAt",label:"Created"},{key:"status",label:"Status",render:(e,t)=>{let a=t.id,s=t.title;return(0,r.jsxs)(b.DropdownMenu,{children:[(0,r.jsx)(b.DropdownMenuTrigger,{className:"focus:outline-none",children:(0,r.jsxs)("div",{className:"cursor-pointer hover:opacity-80 flex items-center",children:[(0,r.jsx)(u.Badge,{variant:"outline",className:k[e]??"bg-secondary text-secondary-foreground",children:e}),(0,r.jsx)(n.ChevronDown,{className:"ml-1.5 h-3 w-3 text-muted-foreground/50"})]})}),(0,r.jsx)(b.DropdownMenuContent,{align:"start",children:"Active"===e&&(0,r.jsx)(b.DropdownMenuItem,{onClick:()=>{U({open:!0,id:a,quizTitle:s,confirmText:""})},className:"cursor-pointer text-red-500 focus:text-red-500",children:"Block"})})]})}}],F=e.map(e=>({id:e.id,title:e.title,creator:e.creator,category:e.category??"-",questions:Array.isArray(e.questions)?e.questions.length:0,language:e.language??"ID",difficulty:e.is_public?"Publik":"Private",createdAt:e.created_at?(0,s.format)(new Date(e.created_at),"dd MMM yyyy"):"-",status:"block"===e.status?"Block":"Active"}));return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Quiz Data"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(x.Input,{placeholder:"Cari quiz...",className:"pr-10 w-64 bg-background border-border",value:I,onChange:e=>M(e.target.value),onKeyDown:e=>{"Enter"===e.key&&L()}}),(0,r.jsx)("button",{onClick:L,disabled:z,className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 flex items-center justify-center rounded-md bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50 transition-colors",children:(0,r.jsx)(t.Search,{className:"h-3.5 w-3.5"})})]}),(0,r.jsxs)(m.Select,{value:D,onValueChange:e=>H({category:e,page:1}),children:[(0,r.jsx)(m.SelectTrigger,{className:"w-36",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(a.SlidersHorizontal,{className:"h-4 w-4"}),(0,r.jsx)(m.SelectValue,{placeholder:"Category"})]})}),(0,r.jsxs)(m.SelectContent,{children:[(0,r.jsx)(m.SelectItem,{value:"all",children:"All Category"}),S.map(e=>(0,r.jsx)(m.SelectItem,{value:e,children:N(e)},e))]})]}),(0,r.jsxs)(m.Select,{value:B,onValueChange:e=>H({visibility:e,page:1}),children:[(0,r.jsx)(m.SelectTrigger,{className:"w-36",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(a.SlidersHorizontal,{className:"h-4 w-4"}),(0,r.jsx)(m.SelectValue,{placeholder:"Visibility"})]})}),(0,r.jsxs)(m.SelectContent,{children:[(0,r.jsx)(m.SelectItem,{value:"all",children:"All"}),(0,r.jsx)(m.SelectItem,{value:"publik",children:"Publik"}),(0,r.jsx)(m.SelectItem,{value:"private",children:"Private"}),(0,r.jsx)(m.SelectItem,{value:"active",children:"Active"}),(0,r.jsx)(m.SelectItem,{value:"block",children:"Block"})]})]})]})]}),(0,r.jsx)("div",{className:z?"opacity-60 pointer-events-none":"",children:(0,r.jsx)(c.DataTable,{columns:E,data:F,currentPage:w,totalPages:v,onPageChange:e=>{H({page:e,search:C,category:D,visibility:B}),window.scrollTo({top:0,behavior:"smooth"})},onRowClick:e=>T.push(`/quizzes/${e.id}`)})}),(0,r.jsx)(h.Dialog,{open:V.open,onOpenChange:e=>R(r=>({...r,open:e})),children:(0,r.jsxs)(h.DialogContent,{showCloseButton:!1,children:[(0,r.jsxs)(h.DialogHeader,{children:[(0,r.jsx)(h.DialogTitle,{children:"Ubah Visibility Quiz"}),(0,r.jsxs)(h.DialogDescription,{children:["Apakah Anda yakin ingin mengubah visibility quiz"," ",(0,r.jsx)("strong",{children:V.quizTitle})," dari"," ",(0,r.jsx)("strong",{children:V.currentValue})," menjadi"," ",(0,r.jsx)("strong",{children:V.newValue}),"?"]})]}),(0,r.jsxs)(h.DialogFooter,{children:[(0,r.jsx)(d.Button,{variant:"outline",onClick:()=>R(e=>({...e,open:!1})),children:"Batal"}),(0,r.jsx)(d.Button,{onClick:O,children:"Ya, Ubah"})]})]})}),(0,r.jsx)(h.Dialog,{open:Q.open,onOpenChange:e=>U(r=>({...r,open:e,confirmText:""})),children:(0,r.jsxs)(h.DialogContent,{showCloseButton:!1,children:[(0,r.jsxs)(h.DialogHeader,{children:[(0,r.jsx)(h.DialogTitle,{className:"text-destructive",children:"Block Quiz"}),(0,r.jsxs)(h.DialogDescription,{children:["Anda akan memblokir quiz ",(0,r.jsx)("strong",{children:Q.quizTitle}),". Status quiz akan berubah menjadi block."]})]}),(0,r.jsxs)("div",{className:"grid gap-2 py-4",children:[(0,r.jsxs)(p.Label,{htmlFor:"confirmBlock",children:["Ketik ",(0,r.jsx)("strong",{className:"text-destructive",children:"Block"})," untuk mengkonfirmasi"]}),(0,r.jsx)(x.Input,{id:"confirmBlock",value:Q.confirmText,onChange:e=>U(r=>({...r,confirmText:e.target.value})),placeholder:"Ketik 'Block' di sini"})]}),(0,r.jsxs)(h.DialogFooter,{children:[(0,r.jsx)(d.Button,{variant:"outline",onClick:()=>U(e=>({...e,open:!1,confirmText:""})),children:"Batal"}),(0,r.jsx)(d.Button,{variant:"destructive",onClick:_,disabled:"Block"!==Q.confirmText,children:"Block Quiz"})]})]})})]})}function N(e){return e&&"-"!==e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e}e.s(["QuizTable",()=>w],8287)}]);