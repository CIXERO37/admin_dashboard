(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,54943,e=>{"use strict";let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["default",()=>t],54943),e.s(["Search",()=>t],55436)},30374,e=>{"use strict";var t=e.i(43476),a=e.i(26999),r=e.i(95926),n=e.i(47163);function i({...e}){return(0,t.jsx)(a.Root,{"data-slot":"dialog",...e})}function o({...e}){return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...e})}function s({className:e,...r}){return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function l({className:e,children:i,showCloseButton:l=!0,...d}){return(0,t.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,t.jsx)(s,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...d,children:[i,l&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(r.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function c({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function u({className:e,...r}){return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,n.cn)("text-lg leading-none font-semibold",e),...r})}function m({className:e,...r}){return(0,t.jsx)(a.Description,{"data-slot":"dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",e),...r})}e.s(["Dialog",()=>i,"DialogContent",()=>l,"DialogDescription",()=>m,"DialogFooter",()=>c,"DialogHeader",()=>d,"DialogTitle",()=>u])},43531,e=>{"use strict";var t=e.i(78745);e.s(["Check",()=>t.default])},74117,e=>{"use strict";var t=e.i(71645);let a=0,r=new Map,n=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),s({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},i=[],o={toasts:[]};function s(e){o=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(o,e),i.forEach(e=>{e(o)})}function l({...e}){let t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>s({type:"DISMISS_TOAST",toastId:t});return s({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>s({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function d(){let[e,a]=t.useState(o);return t.useEffect(()=>(i.push(a),()=>{let e=i.indexOf(a);e>-1&&i.splice(e,1)}),[e]),{...e,toast:l,dismiss:e=>s({type:"DISMISS_TOAST",toastId:e})}}e.s(["useToast",()=>d])},77241,34662,e=>{"use strict";let t=Symbol.for("constructDateFrom");function a(e,a){return"function"==typeof e?e(a):e&&"object"==typeof e&&t in e?e[t](a):e instanceof Date?new e.constructor(a):new Date(a)}e.s(["constructFromSymbol",0,t,"millisecondsInDay",0,864e5,"millisecondsInWeek",0,6048e5,"minutesInDay",0,1440,"minutesInMonth",0,43200],34662),e.s(["constructFrom",()=>a],77241)},81092,e=>{"use strict";var t=e.i(77241);function a(e,a){return(0,t.constructFrom)(a||e,e)}e.s(["toDate",()=>a])},45110,e=>{"use strict";var t=e.i(77241);function a(e,...r){let n=t.constructFrom.bind(null,e||r.find(e=>"object"==typeof e));return r.map(n)}e.s(["normalizeDates",()=>a])},55545,55024,99151,e=>{"use strict";let t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a(e){return (t={})=>{let a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}let r={date:a({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:a({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:a({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function i(e){return(t,a)=>{let r;if("formatting"===(a?.context?String(a.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,n=a?.width?String(a.width):t;r=e.formattingValues[n]||e.formattingValues[t]}else{let t=e.defaultWidth,n=a?.width?String(a.width):e.defaultWidth;r=e.values[n]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}let o={ordinalNumber:(e,t)=>{let a=Number(e),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:i({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:i({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:i({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:i({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:i({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function s(e){return(t,a={})=>{let r,n=a.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;let s=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?function(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}(l,e=>e.test(s)):function(e,t){for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}(l,e=>e.test(s));return r=e.valueCallback?e.valueCallback(d):d,{value:r=a.valueCallback?a.valueCallback(r):r,rest:t.slice(s.length)}}}let l={ordinalNumber:(u={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{let a=e.match(u.matchPattern);if(!a)return null;let r=a[0],n=e.match(u.parsePattern);if(!n)return null;let i=u.valueCallback?u.valueCallback(n[0]):n[0];return{value:i=t.valueCallback?t.valueCallback(i):i,rest:e.slice(r.length)}}),era:s({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:s({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:s({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:s({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:s({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};e.s(["defaultLocale",0,{code:"en-US",formatDistance:(e,a,r)=>{let n,i=t[e];if(n="string"==typeof i?i:1===a?i.one:i.other.replace("{{count}}",a.toString()),r?.addSuffix)if(r.comparison&&r.comparison>0)return"in "+n;else return n+" ago";return n},formatLong:r,formatRelative:(e,t,a,r)=>n[e],localize:o,match:l,options:{weekStartsOn:0,firstWeekContainsDate:1}}],55545);let d={};function c(){return d}e.s(["getDefaultOptions",()=>c],55024);var u,m=e.i(81092);function h(e){let t=(0,m.toDate)(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),e-a}e.s(["getTimezoneOffsetInMilliseconds",()=>h],99151)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},49582,e=>{"use strict";let t=(0,e.i(75254).default)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);e.s(["SlidersHorizontal",()=>t],49582)},37727,e=>{"use strict";var t=e.i(41947);e.s(["X",()=>t.default])},84762,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}e.s(["Textarea",()=>r])},49945,e=>{"use strict";let t=(0,e.i(75254).default)("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);e.s(["FileQuestion",()=>t],49945)},98233,16157,e=>{"use strict";var t=e.i(95187),a=(0,t.createServerReference)("40ecfbe13c77b0f12999ae8fb0052dfbf4b88227b8",t.callServer,void 0,t.findSourceMapURL,"approveQuizAction");e.s(["approveQuizAction",()=>a],98233);var r=(0,t.createServerReference)("60f6b9ffa54f61be1e26bbc70d89e33509e1909362",t.callServer,void 0,t.findSourceMapURL,"rejectQuizAction");e.s(["rejectQuizAction",()=>r],16157)},36043,e=>{"use strict";var t=e.i(43476),a=e.i(55436),r=e.i(49945),n=e.i(87316),i=e.i(43531),o=e.i(37727),s=e.i(77241),l=e.i(55545),d=e.i(55024),c=e.i(99151),u=e.i(45110),m=e.i(81092);function h(e,t){let a=(0,m.toDate)(e)-(0,m.toDate)(t);return a<0?-1:a>0?1:a}var f=e.i(34662),g=e.i(71645),p=e.i(18566),x=e.i(22016),b=e.i(47163),v=e.i(67881),y=e.i(94179),j=e.i(63270),w=e.i(23750),D=e.i(74117),M=e.i(98233),N=e.i(16157),S=e.i(30374),k=e.i(10708),T=e.i(84762),C=e.i(62870),A=e.i(49582);function z({quiz:e,onApprove:a,onReject:g}){var w,D;let M=(0,p.useRouter)(),N=Array.isArray(e.questions)?e.questions.length:0,S=e.cover_image||e.image_url,k=(e.creator?.fullname||"?").split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase();return(0,t.jsxs)("div",{className:"group relative flex flex-col overflow-hidden rounded-2xl border border-border bg-card shadow-lg transition-all duration-300 hover:shadow-xl hover:border-primary/50 cursor-pointer",onClick:()=>{M.push(`/quiz-approval/${e.id}`)},children:[(0,t.jsxs)("div",{className:"relative h-32 bg-gradient-to-br from-primary/20 via-primary/10 to-transparent overflow-hidden",children:[S&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:S,alt:e.title,className:"absolute inset-0 h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 to-black/40"})]}),(0,t.jsxs)("div",{className:"absolute top-3 left-3 right-3 flex items-center justify-between",children:[(0,t.jsx)(y.Badge,{variant:"outline",className:"text-[10px] font-semibold px-2 py-0.5 bg-black/60 text-white border-white/20",children:e.category?.toUpperCase()||"UNCATEGORIZED"}),(0,t.jsx)(y.Badge,{variant:"outline",className:"text-[10px] font-semibold px-2 py-0.5 bg-yellow-500/90 text-white border-yellow-500",children:"PENDING"})]}),(0,t.jsx)("div",{className:"absolute bottom-3 right-3",children:(0,t.jsxs)(y.Badge,{variant:"secondary",className:"gap-1 bg-black/50 text-white border-0",children:[(0,t.jsx)(r.FileQuestion,{className:"h-3 w-3"}),N," Questions"]})})]}),(0,t.jsxs)("div",{className:"flex-1 p-4 space-y-3",children:[(0,t.jsx)("h3",{className:"font-bold text-base text-foreground line-clamp-2",title:e.title,children:e.title}),(0,t.jsxs)(x.default,{href:`/users/${e.creator?.id}`,className:"flex items-center gap-2",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)(j.Avatar,{className:"h-8 w-8 border border-border",children:[(0,t.jsx)(j.AvatarImage,{src:(0,b.getAvatarUrl)(e.creator?.avatar_url),alt:e.creator?.fullname||""}),(0,t.jsx)(j.AvatarFallback,{className:"bg-muted text-muted-foreground text-xs font-medium",children:k})]}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-foreground truncate hover:text-primary transition-colors",title:e.creator?.fullname||"Unknown",children:e.creator?.fullname||"Unknown"}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground truncate",title:`@${e.creator?.username||"-"}`,children:["@",e.creator?.username||"-"]})]})]})]}),(0,t.jsxs)("div",{className:"px-4 py-3 border-t border-border/50 bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(n.Calendar,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{children:e.created_at?(w=new Date(e.created_at),D={addSuffix:!0},function(e,t,a){var r;let n,i=(0,d.getDefaultOptions)(),o=a?.locale??i.locale??l.defaultLocale,s=h(e,t);if(isNaN(s))throw RangeError("Invalid time value");let g=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:s}),[p,x]=(0,u.normalizeDates)(a?.in,...s>0?[t,e]:[e,t]),b=(r=void 0,e=>{let t=(r?Math[r]:Math.trunc)(e);return 0===t?0:t})(((0,m.toDate)(x)-(0,m.toDate)(p))/1e3),v=Math.round((b-((0,c.getTimezoneOffsetInMilliseconds)(x)-(0,c.getTimezoneOffsetInMilliseconds)(p))/1e3)/60);if(v<2)if(a?.includeSeconds)if(b<5)return o.formatDistance("lessThanXSeconds",5,g);else if(b<10)return o.formatDistance("lessThanXSeconds",10,g);else if(b<20)return o.formatDistance("lessThanXSeconds",20,g);else if(b<40)return o.formatDistance("halfAMinute",0,g);else if(b<60)return o.formatDistance("lessThanXMinutes",1,g);else return o.formatDistance("xMinutes",1,g);else if(0===v)return o.formatDistance("lessThanXMinutes",1,g);else return o.formatDistance("xMinutes",v,g);if(v<45)return o.formatDistance("xMinutes",v,g);if(v<90)return o.formatDistance("aboutXHours",1,g);if(v<f.minutesInDay){let e=Math.round(v/60);return o.formatDistance("aboutXHours",e,g)}if(v<2520)return o.formatDistance("xDays",1,g);else if(v<f.minutesInMonth){let e=Math.round(v/f.minutesInDay);return o.formatDistance("xDays",e,g)}else if(v<2*f.minutesInMonth)return n=Math.round(v/f.minutesInMonth),o.formatDistance("aboutXMonths",n,g);if((n=function(e,t,a){var r,n;let i,o,s,l,[d,c,f]=(0,u.normalizeDates)(void 0,e,e,t),g=h(c,f),p=Math.abs(function(e,t,a){let[r,n]=(0,u.normalizeDates)(void 0,e,t);return 12*(r.getFullYear()-n.getFullYear())+(r.getMonth()-n.getMonth())}(c,f));if(p<1)return 0;1===c.getMonth()&&c.getDate()>27&&c.setDate(30),c.setMonth(c.getMonth()-g*p);let x=h(c,f)===-g;+(i=(0,m.toDate)(d,void 0),r=void 0,(o=(0,m.toDate)(i,r?.in)).setHours(23,59,59,999),o)==+(n=void 0,l=(s=(0,m.toDate)(i,n?.in)).getMonth(),s.setFullYear(s.getFullYear(),l+1,0),s.setHours(23,59,59,999),s)&&1===p&&1===h(d,f)&&(x=!1);let b=g*(p-x);return 0===b?0:b}(x,p))<12){let e=Math.round(v/f.minutesInMonth);return o.formatDistance("xMonths",e,g)}{let e=n%12,t=Math.trunc(n/12);return e<3?o.formatDistance("aboutXYears",t,g):e<9?o.formatDistance("overXYears",t,g):o.formatDistance("almostXYears",t+1,g)}}(w,(0,s.constructFrom)(w,Date.now()),D)):"-"})]}),(0,t.jsx)("span",{className:"uppercase text-[10px] font-medium",children:e.language||"ID"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(v.Button,{className:"flex-1 gap-1.5 bg-emerald-500 hover:bg-emerald-600 text-white font-medium cursor-pointer shadow-sm hover:shadow-md transition-all duration-200",size:"sm",onClick:t=>{t.stopPropagation(),a(e.id,e.title)},children:[(0,t.jsx)(i.Check,{className:"h-4 w-4"}),"Approve"]}),(0,t.jsxs)(v.Button,{variant:"outline",className:"flex-1 gap-1.5 border-red-300 text-red-600 hover:bg-red-50 hover:text-red-700 hover:border-red-400 font-medium cursor-pointer transition-all duration-200 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-950 dark:hover:text-red-300",size:"sm",onClick:t=>{t.stopPropagation(),g(e.id,e.title)},children:[(0,t.jsx)(o.X,{className:"h-4 w-4"}),"Reject"]})]})]})]})}function P({initialData:e,totalPages:n,currentPage:i,totalCount:o,searchQuery:s,categories:l,categoryFilter:d}){let c=(0,p.useRouter)(),u=(0,p.useSearchParams)(),[m,h]=(0,g.useTransition)(),[f,x]=(0,g.useState)(s),{toast:y}=(0,D.useToast)(),[j,P]=(0,g.useState)({open:!1,id:"",title:""}),[W,F]=(0,g.useState)(""),[I,O]=(0,g.useState)({open:!1,id:"",title:""}),E=(e,t)=>{O({open:!0,id:e,title:t})},q=async()=>{let{id:e,title:t}=I;if(!e)return;let{error:a}=await (0,M.approveQuizAction)(e);a?y({title:"Error",description:"Failed to approve quiz",variant:"destructive"}):(y({title:"Success",description:`Quiz "${t}" has been approved successfully`}),c.refresh()),O(e=>({...e,open:!1}))},X=(e,t)=>{P({open:!0,id:e,title:t}),F("")},R=async()=>{let{id:e,title:t}=j;if(!e)return;if(!W.trim())return void y({title:"Error",description:"Please provide a rejection reason",variant:"destructive"});let{error:a}=await (0,N.rejectQuizAction)(e,W);a?y({title:"Error",description:"Failed to reject quiz",variant:"destructive"}):(y({title:"Success",description:`Quiz "${t}" has been rejected`}),c.refresh()),P(e=>({...e,open:!1}))},Q=e=>{let t=new URLSearchParams(u.toString());Object.entries(e).forEach(([e,a])=>{a&&""!==a&&"all"!==a?t.set(e,String(a)):t.delete(e)}),h(()=>{c.push(`?${t.toString()}`)})},_=()=>{Q({search:f,page:1})},U=e=>{Q({page:e,search:s,category:d}),window.scrollTo({top:0,behavior:"smooth"})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Quiz Approval"})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(w.Input,{placeholder:"Search quiz...",className:"pr-10 w-64 bg-background border-border",value:f,onChange:e=>x(e.target.value),onKeyDown:e=>{"Enter"===e.key&&_()}}),(0,t.jsx)("button",{onClick:_,disabled:m,className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 flex items-center justify-center rounded-md bg-primary text-primary-foreground hover:bg-primary/90 disabled:opacity-50 transition-colors cursor-pointer",children:(0,t.jsx)(a.Search,{className:"h-3.5 w-3.5"})})]}),(0,t.jsxs)(C.Select,{value:d,onValueChange:e=>Q({category:e,page:1}),children:[(0,t.jsx)(C.SelectTrigger,{className:"w-36",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(A.SlidersHorizontal,{className:"h-4 w-4"}),(0,t.jsx)(C.SelectValue,{placeholder:"Category"})]})}),(0,t.jsxs)(C.SelectContent,{children:[(0,t.jsx)(C.SelectItem,{value:"all",children:"All Category"}),l.map(e=>{var a;return(0,t.jsx)(C.SelectItem,{value:e,children:(a=e)&&"-"!==a?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():a},e)})]})]})]})]}),(0,t.jsx)("div",{className:m?"opacity-60 pointer-events-none":"",children:e.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(e=>(0,t.jsx)(z,{quiz:e,onApprove:E,onReject:X},e.id))}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center border border-dashed border-border rounded-lg",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center mb-3",children:(0,t.jsx)(r.FileQuestion,{className:"h-6 w-6 text-muted-foreground"})}),(0,t.jsx)("h3",{className:"text-base font-medium text-foreground mb-1",children:"No quizzes pending approval"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:s?"No quizzes match your search":"All quizzes have been reviewed"})]})}),n>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-border bg-card px-6 py-4",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page"," ",(0,t.jsx)("span",{className:"font-medium text-foreground",children:i})," ","of"," ",(0,t.jsx)("span",{className:"font-medium text-foreground",children:n||1})]}),n>1&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>U(i-1),disabled:1===i||m,className:(0,b.cn)("px-3 py-1.5 text-sm font-medium rounded-lg border transition-colors",1===i||m?"border-border bg-secondary/50 text-muted-foreground cursor-not-allowed":"border-border bg-card text-foreground hover:bg-secondary/80 cursor-pointer"),children:"Previous"}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(n,5)},(e,a)=>{let r=a+1;return n>5&&(i>3&&(r=i-2+a),i>n-2&&(r=n-4+a)),(0,t.jsx)("button",{onClick:()=>U(r),disabled:m,className:(0,b.cn)("w-9 h-9 text-sm font-medium rounded-lg border transition-colors cursor-pointer",i===r?"border-primary bg-primary text-primary-foreground":"border-border bg-card text-foreground hover:bg-secondary/80"),children:r},r)})}),(0,t.jsx)("button",{onClick:()=>U(i+1),disabled:i===n||m,className:(0,b.cn)("px-3 py-1.5 text-sm font-medium rounded-lg border transition-colors",i===n||m?"border-border bg-secondary/50 text-muted-foreground cursor-not-allowed":"border-border bg-card text-foreground hover:bg-secondary/80 cursor-pointer"),children:"Next"})]})]}),(0,t.jsx)(S.Dialog,{open:I.open,onOpenChange:e=>O(t=>({...t,open:e})),children:(0,t.jsxs)(S.DialogContent,{children:[(0,t.jsxs)(S.DialogHeader,{children:[(0,t.jsx)(S.DialogTitle,{children:"Approve Quiz"}),(0,t.jsx)(S.DialogDescription,{children:"Are you sure you want to approve this quiz?"})]}),(0,t.jsxs)(S.DialogFooter,{children:[(0,t.jsx)(v.Button,{variant:"outline",onClick:()=>O(e=>({...e,open:!1})),children:"Cancel"}),(0,t.jsx)(v.Button,{className:"bg-emerald-500 hover:bg-emerald-600 text-white",onClick:q,children:"Approve"})]})]})}),(0,t.jsx)(S.Dialog,{open:j.open,onOpenChange:e=>P(t=>({...t,open:e})),children:(0,t.jsxs)(S.DialogContent,{children:[(0,t.jsx)(S.DialogHeader,{children:(0,t.jsx)(S.DialogTitle,{children:"Reject Quiz"})}),(0,t.jsxs)("div",{className:"grid gap-2 py-2",children:[(0,t.jsx)(k.Label,{htmlFor:"reason",children:"Reason for Rejection"}),(0,t.jsx)(T.Textarea,{id:"reason",placeholder:"e.g., Inappropriate content, Low image quality, etc.",value:W,onChange:e=>F(e.target.value),className:"h-24 resize-none"})]}),(0,t.jsxs)(S.DialogFooter,{children:[(0,t.jsx)(v.Button,{variant:"outline",onClick:()=>P(e=>({...e,open:!1})),children:"Cancel"}),(0,t.jsx)(v.Button,{variant:"destructive",onClick:R,disabled:!W.trim(),children:"Reject"})]})]})})]})}e.s(["QuizApprovalTable",()=>P],36043)}]);